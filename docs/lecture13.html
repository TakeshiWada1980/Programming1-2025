<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <meta name="robots" content="noindex,nofollow,noarchive" />
    <meta name="referrer" content="no-referrer" />

    <script>
      MathJax = {
        chtml: {
          displayAlign: "left",
          displayIndent: "1em",
        },
      };
    </script>

     <script
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
type="text/javascript"></script> 

    <link rel="icon" href="favicon.ico" sizes="any" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c"
    />
    <link rel="stylesheet" href="style.css" />

    <title>第13回 2I-プログラミング1</title>
  </head>

  <body>
    <div class="openbtn"><span></span><span></span><span></span></div>
    <nav id="g-nav">
      <div id="g-nav-list">
        <!-- ---------------------------------------- -->
         <ul>
<li><a href="#準備案内" id="toc-準備案内"><span
class="toc-section-number">1</span> 準備・案内</a>
<ul>
<li><a href="#次回-夏休み明け-小テストを実施します"
id="toc-次回-夏休み明け-小テストを実施します"><span
class="toc-section-number">1.1</span> 次回 (夏休み明け)
、小テストを実施します。</a></li>
</ul></li>
<li><a href="#課題06" id="toc-課題06"><span
class="toc-section-number">2</span> 課題06</a>
<ul>
<li><a href="#補足" id="toc-補足"><span
class="toc-section-number">2.1</span> 補足</a></li>
</ul></li>
<li><a href="#プログラミングの上達のためには"
id="toc-プログラミングの上達のためには"><span
class="toc-section-number">3</span>
プログラミングの上達のためには…</a></li>
<li><a href="#リストに格納な可能な変数の型"
id="toc-リストに格納な可能な変数の型"><span
class="toc-section-number">4</span> リストに格納な可能な変数の型</a>
<ul>
<li><a href="#演習1-目標時間-8分" id="toc-演習1-目標時間-8分"><span
class="toc-section-number">4.1</span> 演習1
(<i class="fa-solid fa-stopwatch"></i> 目標時間: 8分)</a></li>
</ul></li>
<li><a href="#二次元リスト" id="toc-二次元リスト"><span
class="toc-section-number">5</span> 二次元リスト</a>
<ul>
<li><a href="#c言語との違い" id="toc-c言語との違い"><span
class="toc-section-number">5.1</span> C言語との違い</a></li>
<li><a href="#次元配列の様々な初期化の方法"
id="toc-次元配列の様々な初期化の方法"><span
class="toc-section-number">5.2</span>
2次元配列の様々な初期化の方法</a></li>
</ul></li>
<li><a href="#確認" id="toc-確認"><span
class="toc-section-number">6</span> 確認</a></li>
<li><a href="#リストの浅いコピーと深いコピー"
id="toc-リストの浅いコピーと深いコピー"><span
class="toc-section-number">7</span> リストの浅いコピーと深いコピー</a>
<ul>
<li><a href="#理解のためのステップ1-出題編"
id="toc-理解のためのステップ1-出題編"><span
class="toc-section-number">7.1</span> 理解のためのステップ1
～出題編～</a></li>
<li><a href="#理解のためのステップ2-出題編"
id="toc-理解のためのステップ2-出題編"><span
class="toc-section-number">7.2</span> 理解のためのステップ2
～出題編～</a></li>
<li><a href="#理解のためのステップ3-出題編"
id="toc-理解のためのステップ3-出題編"><span
class="toc-section-number">7.3</span> 理解のためのステップ3
～出題編～</a></li>
<li><a href="#理解のためのステップ4-解答編"
id="toc-理解のためのステップ4-解答編"><span
class="toc-section-number">7.4</span> 理解のためのステップ4
～解答編～</a></li>
<li><a href="#理屈は分かったものの不便ではないか"
id="toc-理屈は分かったものの不便ではないか"><span
class="toc-section-number">7.5</span>
理屈は分かったものの不便ではないか</a></li>
</ul></li>
</ul> 
        <!-- ---------------------------------------- -->
      </div>
    </nav>

    <header class="markdown-body">
      <p>2025-2I プログラミング1 第13回 講義資料</p>
      <p>2025年07月24日（木）5・6時限</p>
    </header>

    <main class="markdown-body">
      <!-- ---------------------------------------- -->
      <h1 data-number="1" id="準備案内"><span
      class="header-section-number">1</span> 準備・案内</h1>
      <ul>
      <li><p><a
      href="https://colab.research.google.com/?hl=ja">GoogleColab.</a>
      にログイン、もしくは、ローカル環境の <a
      href="lecture09.html#ノートブックの新規作成と実行">Jupyter</a>
      を起動し「<code>PG1-第13回講義.ipynb</code>」という名前でノートブックを作成しておいてください。</p></li>
      <li><p>前々回講義で<a href="lecture11.html#課題05-自由課題">課題05
      (自由課題)</a>が出題されています。期限はまだ先ですが、計画的に取り組んでください。</p>
      <ul>
      <li>期限: <strong>2025年8月6日 (水) 23:00</strong></li>
      </ul></li>
      </ul>
      <h2 data-number="1.1"
      id="次回-夏休み明け-小テストを実施します"><span
      class="header-section-number">1.1</span> 次回 (夏休み明け)
      、小テストを実施します。</h2>
      <ul>
      <li>今回の講義資料の範囲からの出題です。特に<a
      href="lecture13.html#リストの浅いコピーと深いコピー">リストの浅いコピーと深いコピー</a>について理解しておいてください。
      <ul>
      <li>「参照」の概念を理解しておいてください。</li>
      <li>多次元リストを <code>=</code> で代入した場合、リストの
      <code>copy()</code>
      メソッドでコピーした場合、<code>copy.deepcopy()</code>
      関数でコピーした場合の挙動の違いを理解し、<code>id()</code>
      関数や要素の変更による影響を通して確認できるようになっておいてください。</li>
      </ul></li>
      </ul>
      <h1 data-number="2" id="課題06"><span
      class="header-section-number">2</span> 課題06</h1>
      <ul>
      <li>今回の講義が「<strong>夏休み前の最終授業</strong>」となります。そして、次回の授業は
      <strong>9月18日 (木)</strong> なので、<span
      class="masked">約2カ月のブランク(空白期間)</span>
      が生じることになります。
      <ul>
      <li>語学やスポーツと同様に、<strong>プログラミング初心者が
      2カ月のブランクをつくると、未学習に近い状態 (2年生4月の状態)
      まで戻ってしまいます</strong>。それは皆さんも教員も望まないはずです。そのため、夏休み中も、言語や内容・方法・スタイルは問わないので、<strong>最低でも3時間/週</strong>
      は何かしらプログラミングに取り組んでください。
      <ul>
      <li>クラブ活動や総合課題学習に関連するプログラミングの取り組みでも全然OKです</li>
      </ul></li>
      <li>…とはいえ、人間、何も縛りがないとやらずじまいになってしまいます。わずかでも、強制力を働かせるために、<strong><em>課題06</em></strong>
      として、週単位で「<strong>プログラミングの学びの報告</strong>」をしてもらい、それを課題点として成績反映させる方法をとります。</li>
      </ul></li>
      <li>08/08(金) ～ 08/14(木) の取組み <span
      class="math inline">\(\to\)</span> <a
      href="https://forms.office.com/r/Br1m3f1Ccs">課題06-学習報告①</a><font size="-1">入力期間
      08/15 ～ 08/21</font></li>
      <li>08/15(金) ～ 08/21(木) の取組み <span
      class="math inline">\(\to\)</span> <a
      href="https://forms.office.com/r/cX6SQwLs6W">課題06-学習報告②</a><font size="-1">入力期間
      08/22 ～ 08/28</font></li>
      <li>08/22(金) ～ 08/28(木) の取組み <span
      class="math inline">\(\to\)</span> <a
      href="https://forms.office.com/r/7y0Kx1Gmy9">課題06-学習報告③</a><font size="-1">入力期間
      08/29 ～ 09/04</font></li>
      <li>08/29(金) ～ 09/04(木) の取組み <span
      class="math inline">\(\to\)</span> <a
      href="https://forms.office.com/r/iSZrWZgjK7">課題06-学習報告④</a><font size="-1">入力期間
      09/05 ～ 09/12</font></li>
      <li>09/05(金) ～ 09/11(木) の取組み <span
      class="math inline">\(\to\)</span> <a
      href="https://forms.office.com/r/90W8BWJGVw">課題06-学習報告⑤</a><font size="-1">入力期間
      09/13 ～ 09/18</font></li>
      </ul>
      <p>※
      入力期間中にフォームが開けない場合は、Teamsのチャットで和田に連絡をお願いします。</p>
      <p>※
      フォームの回答後は、以下のように<strong>「回答を保存して編集する」</strong>を押下して、<strong>回答を保存しておくことを強く推奨します</strong>。保存しておくことで、未提出とされた場合でも、提出済みであることを証明する手段となります。</p>
      <figure>
      <img src="figs/13/form-01.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <h2 data-number="2.1" id="補足"><span
      class="header-section-number">2.1</span> 補足</h2>
      <p>入力期間になると、上記のリンクから Microsoftフォーム
      にアクセスできます。</p>
      <blockquote>
      <p>202X年XX月XX日～XX月XX日のプログラミング学習の取り組みの報告フォームです。最低ラインとして毎週180分以上、理想としては毎週840分以上（1日2時間）を推奨しています。</p>
      </blockquote>
      <figure>
      <img src="figs/13/form-02.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <p>フォームには「出席番号」と「氏名」につづけて次の項目があるので、記入して送信してください。<strong>期限を過ぎると、そのフォームにはアクセスできません。入力期間中は何度でも編集が可能です。</strong></p>
      <ul>
      <li>この期間の総取り組み時間を記入してください。単位は「分（min）」で記入してください。</li>
      <li>この期間の取組み内容を具体的かつ客観的に報告してください。最低180文字以上を記入していないと加点対象になりません。</li>
      </ul>
      <p>例えば、以下のような感じで、具体的に記入してください。</p>
      <blockquote>
      <p>Progateのレッスン「Python
      I」で「変数を使ってみよう」「真偽値と条件分岐」「お買い物代金を計算しよう」にに取り組んだ。「型」についてYouTube動画とウェブ記事で学習した。総合課題学習のプロジェクト「XXXX」のYYY機能の実装のために、YYについて調べて、実装を進めた（TypeScript）。YYY機能の設実装に関して進捗率が20%から40%になった。YouTubeでスクレイピング、HTTP関連の動画を5本視聴した。</p>
      </blockquote>
      <blockquote>
      <p>プログラム1の講義資料の第01回～第03回までの内容（演習問題と課題を含む）に再度、取り組んだ。不明点については
      ChatGPT
      を使って深堀りした。特に、演習については、理解を定着させるために時間を空けて2回以上、繰り返し取り組んだ。YouTube
      でプログラミングの苦手を克服する系の動画を数本視聴して、ポイントをスマホメモに残した。「プログラミングが苦手な人の特徴！現役エンジニアが解説」「【ひろゆき】※プログラマーになれない人の特徴※
      あなた向いてないね。残念ですが…」「子どもがプログラミング嫌いになる理由3選」など。</p>
      </blockquote>
      <blockquote>
      <p>GitHub Education について調べて申請した。VSCodeに「GitHub
      Copilot」の拡張機能をインストールしてコードの補完機能を使ってみた（合計3時間）。「苦しんで覚えるＣ言語」というウェブサイトでC言語の勉強をはじめた。3章の「画面への表示」まで進めた（2時間ぐらい）。VSCodeでC言語の環境環境の構築したが思った以上に苦戦して、とりあえず
      paiza.io で開発することにした。</p>
      </blockquote>
      <div class="note type-caution">
      <p><strong>「課題06」として何に取り組めばよいか分からないときは…</strong></p>
      <p>本科目の講義資料を<a
      href="lecture01.html">第01回</a>から、「演習問題」や「課題」を含め、再度、取り組んでください。資料を読むだけではなく、必ず手をも動かしてください。また、2周目なので、生成AI機能をオフにして取り組むこともよいと思います。</p>
      <p>以前にも、伝えていますが <span
      class="masked">「調べる」「試す」「考える」</span>
      をバランスよく行なうことがポイントです。</p>
      </div>
      <h1 data-number="3" id="プログラミングの上達のためには"><span
      class="header-section-number">3</span>
      プログラミングの上達のためには…</h1>
      <p>プログラミングは「<strong>語学</strong>」や「<strong>スポーツ</strong>」「<strong>楽器演奏</strong>」と同じく、<span
      class="masked">方法や理論のレクチャーを受ける</span> だけ、<span
      class="masked">解説を読む</span>
      だけでは、いつまでもモノにはなりません
      (＝頭のなかに描いた「やりたいこと」を、プログラムとして自由に記述できるレベルにはなりません)
      。語学、スポーツ、楽器演奏のように、実際に繰返し手を動かして試行錯誤しながら、その感覚をつかむ必要があります。</p>
      <p>例えば、バスケにおいて「コーチからレイアップシュートの指導を受けて、その後、レイアップシュートを成功させることができた」という事実から、<span
      class="masked">俺はレイアップシュートを完全に習得した
      (これ以上は練習する必要はないし、試合でもレイアップシュートで得点をとれる)</span>、とか思ってしまう人<span class="masked">がいたら、かなり問題ですよね
      ?</p>
      <p>これは、プログラミングでも同じで「Pythonの辞書型についての講義資料を読んで理解し、そのあとの演習課題もクリアした」からといって、それが身に付いたことにはなりません。実際に、繰返して使うことで、その結果として辞書型が身に付きます。この事実をしっかりと意識しておくようにしてください。</p>
      <div class="note type-tips">
      <p><strong>わからないまま、進んでいませんか🤔</strong></p>
      <p>「前回の講義資料、やり残しがあるけどまあいいか」
      「AIが書いてくれたコードで動いたからヨシ！（コードの意味は理解してないけど…）」
      ――その「まあいいか」が、未来の自分を追い詰めます。</p>
      <p>プログラミングは、地面にブロックを積み上げていくようなものです。
      昨日積んだブロックがしっかりしていなければ、今日のブロックは崩れます。
      一段でもスカスカだと、その上には何も積み上げられません。</p>
      <p>しかも困ったことに
      <strong>新しい内容ほど「前に学んだこと」を当然のように使ってきます</strong>。
      その「なんとなく」は、後から必ずツケとなって返ってきます。</p>
      <p>気づいたときには「何をしているのか、まったくわからない」状態。
      そこから一人で取り返すのは、正直、かなりしんどいです。</p>
      <p>だから今、わからないまま放置しないでください。
      この瞬間が、取り返しのつく最後のチャンスかもしれません。</p>
      </div>
      <h1 data-number="4" id="リストに格納な可能な変数の型"><span
      class="header-section-number">4</span>
      リストに格納な可能な変数の型</h1>
      <p><strong>C言語</strong>における「<strong>配列</strong> (Array)
      」では、以下のように「配列の要素を <span
      class="masked">すべて同じ型で統一</span>
      する必要」がありました。</p>
      <div class="sourceCode" id="cb1"
      data-caption="これはC言語プログラムです。Python環境では実行できません。"><pre
      class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">){</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="co">// arr は int型のみを「要素」にする必要がある</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="dt">int</span> arr<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span><span class="dv">10</span><span class="op">,</span><span class="dv">20</span><span class="op">,</span><span class="dv">30</span><span class="op">,</span><span class="dv">40</span><span class="op">};</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="op">}</span></span></code></pre></div>
      <p>一方で、Pythonの「<strong>リスト</strong>
      (List)」では、要素として <strong>異なる型を混在させること</strong>
      が可能です。</p>
      <p>実際に、以下に示すPythonプログラムのリスト <code>arr</code>
      には「整数型」「文字列型」「真偽型
      (ブール型)」「リスト型」「辞書型」を混在させていますが、問題なく動作します。実際に動作と結果を確認してください
      (C言語ではこのようなことはできません)。</p>
      <p>特に、ここではリスト <code>arr</code> の内部要素としてリスト
      <code>[66,77,88]</code> を持つことができる点に着目してください
      (このことがPythonで <strong><em>2次元リスト</em></strong>
      を実現する仕組みになります) 。</p>
      <p>なお、<strong>第04行目</strong> の <code>enumerate</code>
      については <a href="lecture12.html#enumerate">第12回講義</a>
      で既に学習済みです。同様に <strong>第05行目</strong> の
      <code>type</code> についても <a
      href="lecture11.html#型-type">第12回講義</a>
      で既に学習済みです。</p>
      <div class="sourceCode" id="cb2"
      data-caption="Pythonのリストは、要素として様々な型を持つことができる"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb2-2"><a href="#cb2-2"></a>arr <span class="op">=</span> [ <span class="dv">52</span>, <span class="st">&#39;ABC&#39;</span>, <span class="va">True</span>, [<span class="dv">66</span>,<span class="dv">77</span>,<span class="dv">88</span>], {<span class="st">&#39;秀&#39;</span>:<span class="dv">5</span>, <span class="st">&#39;優&#39;</span>:<span class="dv">4</span>, <span class="st">&#39;良&#39;</span>:<span class="dv">3</span>, <span class="st">&#39;可&#39;</span>:<span class="dv">3</span>} ]</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="cf">for</span> i,a <span class="kw">in</span> <span class="bu">enumerate</span>(arr):</span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="bu">print</span>(<span class="ss">f&#39;arr[</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">] の内容は </span><span class="sc">{</span><span class="bu">str</span>(<span class="bu">type</span>(a))<span class="sc">:&lt;14}</span><span class="ss"> 型の </span><span class="sc">{</span>a<span class="sc">}</span><span class="ss"> です。&#39;</span>)</span></code></pre></div>
      <p><strong>実行結果</strong></p>
      <pre><code>arr[0] の内容は &lt;class &#39;int&#39;&gt;  型の 52 です。
arr[1] の内容は &lt;class &#39;str&#39;&gt;  型の ABC です。
arr[2] の内容は &lt;class &#39;bool&#39;&gt; 型の True です。
arr[3] の内容は &lt;class &#39;list&#39;&gt; 型の [66, 77, 88] です。
arr[4] の内容は &lt;class &#39;dict&#39;&gt; 型の {&#39;秀&#39;: 5, &#39;優&#39;: 4, &#39;良&#39;: 3, &#39;可&#39;: 3} です。</code></pre>
      <p>ここで、<code>arr[3]</code> に格納されている
      <code>[66,77,88]</code> の <code>77</code>
      という数値を取得するためには <span
      class="masked"><code>arr[3][1]</code></span>
      のように記述します。また、<code>arr[4]</code> の辞書型が持つ
      <code>3</code> という数値を取得するためには <span
      class="masked"><code>arr[4]['良']</code></span>
      のように記述します。</p>
      <ul>
      <li><code>arr[3][1]</code> や <code>arr[4]['良']</code>
      という記述によって、実際に <code>77</code> と <code>3</code>
      が取得できることを確認してください (<code>print</code>
      で実際に値を出力してみてください)。
      <ul>
      <li>ヒント： <span
      class="masked"><code>print(f'arr[3][1] の内容は { } です。')</code></span>
      の <code>{</code> と <code>}</code> に適切な変数を記述する。</li>
      <li>ヒント： <span
      class="masked"><code>print(f'arr[4]["良"] の内容は { } です。')</code></span>
      の <code>{</code> と <code>}</code> に適切な変数を記述する。
      <ul>
      <li><a href="lecture12.html#辞書-dict">第12回講義</a>
      で学んだように
      f文字列内で辞書型を参照する場合は、シングルクォートとダブルクォートを使い分けてください。</li>
      </ul></li>
      </ul></li>
      </ul>
      <h2 data-number="4.1" id="演習1-目標時間-8分"><span
      class="header-section-number">4.1</span> 演習1
      (<i class="fa-solid fa-stopwatch"></i> 目標時間: 8分)</h2>
      <p><strong>期待する出力</strong>が得られるように、次のプログラムを追記してください。なお、<strong>第03行目</strong>
      と <strong>第04行目</strong> の <code>assert</code> は <a
      href="lecture11.html#アサート文">第11回講義</a>
      で既に学習済みです。</p>
      <div class="sourceCode" id="cb4" data-caption="演習1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb4-2"><a href="#cb4-2"></a>arr <span class="op">=</span> [ [<span class="dv">55</span>,<span class="dv">66</span>,<span class="dv">77</span>,<span class="dv">88</span>], {<span class="st">&#39;秀&#39;</span>:<span class="dv">5</span>, <span class="st">&#39;優&#39;</span>:<span class="dv">4</span>, <span class="st">&#39;良&#39;</span>:<span class="dv">3</span>, <span class="st">&#39;可&#39;</span>:<span class="dv">2</span>} ]</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="cf">assert</span> <span class="bu">type</span>(arr[<span class="dv">0</span>]) <span class="kw">is</span> <span class="bu">list</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="cf">assert</span> <span class="bu">type</span>(arr[<span class="dv">1</span>]) <span class="kw">is</span> <span class="bu">dict</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># ここから先にコードを追記する</span></span></code></pre></div>
      <p><strong>期待する出力</strong></p>
      <pre><code>arr[0][0] の内容は 55 です。
arr[0][1] の内容は 66 です。
arr[0][2] の内容は 77 です。
arr[0][3] の内容は 88 です。

arr[1][&#39;秀&#39;] の内容は 5 です。
arr[1][&#39;優&#39;] の内容は 4 です。
arr[1][&#39;良&#39;] の内容は 3 です。
arr[1][&#39;可&#39;] の内容は 2 です。</code></pre>
      <p>なお、ここでは次のようなプログラムを期待しているわけではありません。<code>arr</code>
      と <code>for</code> の組み合わせで対応する方法
      (いずれも既に学習済み) を考えてください。<a
      href="lecture12.html#リストの扱いに関する補足①-for構文との組み合わせ">ヒント1</a><a
      href="lecture12.html#演習2-目標時間-10分">ヒント2</a></p>
      <div class="sourceCode" id="cb6"
      data-caption="演習1では期待していない解答"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb6-2"><a href="#cb6-2"></a>arr <span class="op">=</span> [ [<span class="dv">55</span>,<span class="dv">66</span>,<span class="dv">77</span>,<span class="dv">88</span>], {<span class="st">&#39;秀&#39;</span>:<span class="dv">5</span>, <span class="st">&#39;優&#39;</span>:<span class="dv">4</span>, <span class="st">&#39;良&#39;</span>:<span class="dv">3</span>, <span class="st">&#39;可&#39;</span>:<span class="dv">2</span>} ]</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="cf">assert</span> <span class="bu">type</span>(arr[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">list</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="cf">assert</span> <span class="bu">type</span>(arr[<span class="dv">1</span>]) <span class="op">==</span> <span class="bu">dict</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a>msg<span class="op">=</span><span class="st">&#39;&#39;&#39;</span><span class="ch">\</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="st">arr[0][0] の内容は 55 です。</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="st">arr[0][1] の内容は 66 です。</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">arr[0][2] の内容は 77 です。</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">arr[0][3] の内容は 88 です。</span></span>
<span id="cb6-11"><a href="#cb6-11"></a></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="st">arr[1][&#39;秀&#39;] の内容は 5 です。</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="st">arr[1][&#39;優&#39;] の内容は 4 です。</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="st">arr[1][&#39;良&#39;] の内容は 3 です。</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="st">arr[1][&#39;可&#39;] の内容は 2 です。</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="st">&#39;&#39;&#39;</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="bu">print</span>(msg)</span></code></pre></div>
      <p>※ 今回の演習の実装例 (解答例) は <a
      href="https://colab.research.google.com/drive/1HPlDndjHcM5Mw82MLJQU_RQ7uQqGO6bg?usp=sharing">こちら</a>
      を参照してください。</p>
      <h1 data-number="5" id="二次元リスト"><span
      class="header-section-number">5</span> 二次元リスト</h1>
      <p><strong>C言語</strong> (Arudino言語)
      では次のようなコードで「<strong>3行4列</strong>」の
      <strong><em>2次元配列</em></strong> を扱うことができました。</p>
      <div class="sourceCode" id="cb7"
      data-caption="これはC言語プログラムです。Python環境では実行できません。"><pre
      class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">){</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="dt">int</span> i<span class="op">,</span>j<span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="dt">int</span> mat<span class="op">[</span><span class="dv">3</span><span class="op">][</span><span class="dv">4</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span> <span class="op">{</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span><span class="op">,</span> <span class="dv">40</span><span class="op">},</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>                    <span class="op">{</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">60</span><span class="op">,</span> <span class="dv">70</span><span class="op">,</span> <span class="dv">80</span><span class="op">},</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>                    <span class="op">{</span> <span class="dv">90</span><span class="op">,</span><span class="dv">100</span><span class="op">,</span><span class="dv">110</span><span class="op">,</span><span class="dv">120</span><span class="op">}</span> <span class="op">};</span>                   </span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="cf">for</span><span class="op">(</span>i<span class="op">=</span><span class="dv">0</span><span class="op">;</span>i<span class="op">&lt;</span><span class="dv">3</span><span class="op">;</span>i<span class="op">++){</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="cf">for</span><span class="op">(</span>j<span class="op">=</span><span class="dv">0</span><span class="op">;</span>j<span class="op">&lt;</span><span class="dv">4</span><span class="op">;</span>j<span class="op">++){</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>      printf<span class="op">(</span><span class="st">&quot;mat[</span><span class="sc">%d</span><span class="st">][</span><span class="sc">%d</span><span class="st">]=</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span>i<span class="op">,</span>j<span class="op">,</span>mat<span class="op">[</span>i<span class="op">][</span>j<span class="op">]);</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="op">}</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="op">}</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="op">}</span></span></code></pre></div>
      <p>この「C言語プログラム」の実行結果は次のようになります。</p>
      <pre><code>mat[0][0]=10
mat[0][1]=20
mat[0][2]=30
mat[0][3]=40
mat[1][0]=50
mat[1][1]=60
mat[1][2]=70
mat[1][3]=80
mat[2][0]=90
mat[2][1]=100
mat[2][2]=110
mat[2][3]=120</code></pre>
      <p>これと同等の「<strong>Pythonプログラム</strong>」は次のように記述することができます。なお、(1次元の)リストの「<strong>初期化</strong>」については
      <a href="lecture08.html#リスト初期化と要素の参照">第08回講義</a>
      で既に学習済みです。</p>
      <div class="sourceCode" id="cb9" data-caption="2d-list.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co"># mat: Matrix(行列) 2次元リストの初期化</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>mat <span class="op">=</span> [[<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>],</span>
<span id="cb9-4"><a href="#cb9-4"></a>       [<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>],</span>
<span id="cb9-5"><a href="#cb9-5"></a>       [<span class="dv">90</span>,<span class="dv">100</span>,<span class="dv">110</span>,<span class="dv">120</span>]]</span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co"># row: Row(行)</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="cf">for</span> i,row <span class="kw">in</span> <span class="bu">enumerate</span>(mat):</span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="cf">for</span> j, e <span class="kw">in</span> <span class="bu">enumerate</span>(row) :</span>
<span id="cb9-10"><a href="#cb9-10"></a>    <span class="bu">print</span>(<span class="ss">f&#39;mat[</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">][</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">]=</span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>上記のプログラムが十分に理解できない場合、まずは次のように
      <span class="masked">プログラムの途中に <code>print</code>
      文を挿入するなど、自分で手を動かし、動作を確認・理解するように努めてください</span>。</p>
      <div class="sourceCode" id="cb10"
      data-caption="脳内で動作をトレースできないプログラムは print を挿入して解析"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co"># mat: Matrix(行列)</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>mat <span class="op">=</span> [[<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>],</span>
<span id="cb10-4"><a href="#cb10-4"></a>       [<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>],</span>
<span id="cb10-5"><a href="#cb10-5"></a>       [<span class="dv">90</span>,<span class="dv">100</span>,<span class="dv">110</span>,<span class="dv">120</span>]]</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co"># row: Row(行)</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="cf">for</span> i,row <span class="kw">in</span> <span class="bu">enumerate</span>(mat): </span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="bu">print</span>(<span class="ss">f&#39;mat[</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">]=</span><span class="sc">{</span>row<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 追加：ループ変数 i と row の内容を確認</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="co"># for j, e in enumerate(row) :    # 不明な範囲はコメントアウト</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="co">#   print(f&#39;mat[{i}][{j}]={e}&#39;)   # 不明な範囲はコメントアウト</span></span></code></pre></div>
      <ul>
      <li>コメントアウト／アンコメントのショートカットは
      <code>[Ctrl]+[/]</code>
      です。頻繁に使用するので定着させてください。</li>
      </ul>
      <div class="note type-tips">
      <p><strong>enumerate を使用ない例</strong></p>
      <p>enumerate を使用せずに、以下のように
      C言語ライクに実装することもできます。どちらのスタイルで書かれていても読解できるようになっておいてください。</p>
      <p>なお、<code>range(len(...))</code> は<a
      href="lecture08.html#pythonにおけるリストとは">第08回講義</a>で既に学習済みです。</p>
      <div class="sourceCode" id="cb11" data-caption="2d-list-a.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb11-2"><a href="#cb11-2"></a>mat <span class="op">=</span> [[<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>],</span>
<span id="cb11-3"><a href="#cb11-3"></a>       [<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>],</span>
<span id="cb11-4"><a href="#cb11-4"></a>       [<span class="dv">90</span>,<span class="dv">100</span>,<span class="dv">110</span>,<span class="dv">120</span>]]</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(mat)):</span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(mat[i])) :</span>
<span id="cb11-8"><a href="#cb11-8"></a>    <span class="bu">print</span>(<span class="ss">f&#39;mat[</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">][</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">]=</span><span class="sc">{</span>mat[i][j]<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      </div>
      <h2 data-number="5.1" id="c言語との違い"><span
      class="header-section-number">5.1</span> C言語との違い</h2>
      <p>C言語で2次元配列を構成した場合、<strong>行の要素数 (=列の長さ)
      を全て同じにする必要</strong>
      がありました。一方、Pythonの2次元リストでは、<strong>行ごとの要素数が異なっていても</strong>問題ありません。</p>
      <p>次のプログラムを実行し、<strong>行ごとに要素数が異なっていても問題ないこと</strong>を確認してください。</p>
      <div class="sourceCode" id="cb12"
      data-caption="Pythonの2次元リストは行ごとに要素数が違っていても問題ない"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb12-2"><a href="#cb12-2"></a>arr2 <span class="op">=</span> [[<span class="dv">10</span>, <span class="dv">20</span>],          <span class="co"># 要素数2</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>        [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>],  <span class="co"># 要素数4</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>        [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]]      <span class="co"># 要素数3</span></span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="cf">for</span> i,row <span class="kw">in</span> <span class="bu">enumerate</span>(arr2):</span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="cf">for</span> j, e <span class="kw">in</span> <span class="bu">enumerate</span>(row) :</span>
<span id="cb12-8"><a href="#cb12-8"></a>    <span class="bu">print</span>(<span class="ss">f&#39;mat[</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">][</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">]=</span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <h2 data-number="5.2" id="次元配列の様々な初期化の方法"><span
      class="header-section-number">5.2</span>
      2次元配列の様々な初期化の方法</h2>
      <p>次の各プログラムは、どれも同じように2次元リスト
      <code>mat</code>
      を初期化します。いずれの初期化方法も読み書きできるようになっておいてください
      (自分では使わない初期化方法でも、プロジェクトメンバーの誰かが使う可能性があります)
      。</p>
      <p>なお、<span
      class="masked">どの方法で初期化するのが最善であるかは状況によって異なります</span>。また、第10回講義の<a
      href="lecture10.html#リスト操作の負荷量の比較">リスト操作の負荷量の比較</a>についても、再度確認しておいてください。</p>
      <p>プログラムは眺めだけでは身に付かないので、少なくとも貼り付けして、実行してください。</p>
      <div class="sourceCode" id="cb13"
      data-caption="list_init1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb13-2"><a href="#cb13-2"></a>mat <span class="op">=</span> [[<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>],[<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>]] <span class="co"># 行単位の改行は必須ではない</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="bu">print</span>(mat)</span></code></pre></div>
      <div class="sourceCode" id="cb14"
      data-caption="list_init2.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb14-2"><a href="#cb14-2"></a>mat <span class="op">=</span> [] <span class="co"># 長さ0のリスト (空のリスト) を作成</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>mat.append([<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]) <span class="co"># 要素にリストを追加</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>mat.append([<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>])</span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="bu">print</span>(mat)</span></code></pre></div>
      <div class="sourceCode" id="cb15"
      data-caption="list_init3.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb15-2"><a href="#cb15-2"></a>mat <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="dv">2</span>  <span class="co"># 長さ2のリストを作成。[1]*2 でも [None]*2 でもよい</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>mat[<span class="dv">0</span>] <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>] <span class="co"># 0番目の要素を上書き</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>mat[<span class="dv">1</span>] <span class="op">=</span> [<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>]</span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="bu">print</span>(mat)</span></code></pre></div>
      <div class="sourceCode" id="cb16"
      data-caption="list_init4.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb16-2"><a href="#cb16-2"></a>mat <span class="op">=</span> [ [<span class="dv">0</span>]<span class="op">*</span><span class="dv">3</span>, [<span class="dv">0</span>]<span class="op">*</span><span class="dv">3</span> ]  <span class="co"># mat = [[0]*3]*2 とすると予期せぬ結果</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># print(mat)</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>mat[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>mat[<span class="dv">0</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>mat[<span class="dv">0</span>][<span class="dv">2</span>] <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>mat[<span class="dv">1</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>mat[<span class="dv">1</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb16-9"><a href="#cb16-9"></a>mat[<span class="dv">1</span>][<span class="dv">2</span>] <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="bu">print</span>(mat)</span></code></pre></div>
      <div class="sourceCode" id="cb17"
      data-caption="list_init5.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb17-2"><a href="#cb17-2"></a>mat <span class="op">=</span> [ [<span class="dv">0</span>]<span class="op">*</span><span class="dv">3</span>, [<span class="dv">0</span>]<span class="op">*</span><span class="dv">3</span> ]  <span class="co"># mat = [[0]*3]*2 とすると予期せぬ結果</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">6</span>):</span>
<span id="cb17-4"><a href="#cb17-4"></a>  mat[i<span class="op">//</span><span class="dv">3</span>][i<span class="op">%</span><span class="dv">3</span>] <span class="op">=</span> (i<span class="op">+</span><span class="dv">1</span>)<span class="op">*</span><span class="dv">10</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="bu">print</span>(mat)</span></code></pre></div>
      <p>特に <code>list_init4.py</code> において
      <code>mat = [ [0]*3, [0]*3 ]</code> ではなく
      <code>mat = [[0]*3]*2</code> のように初期化すると <span
      class="masked">予期せぬ結果</span> になることを
      <strong>実際に確認</strong> (<strong><em>超重要</em></strong>)
      してください。</p>
      <h1 data-number="6" id="確認"><span
      class="header-section-number">6</span> 確認</h1>
      <p>次のセクションの解説は、<strong>基本的な変数やリスト操作の理解を前提</strong>としています。以下の定着確認が解けない場合、解説を読んでも十分に理解することができません。その場合は、自分が理解できている段階まで戻って、もう一度学習し直してから進んでください。</p>
      <h3 data-number="6.0.1" id="定着確認1"><span
      class="header-section-number">6.0.1</span> 定着確認1</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列) を答えよ。</p>
      <div class="sourceCode" id="cb18" data-caption="定着確認1"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb18-2"><a href="#cb18-2"></a>a <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>b <span class="op">=</span> a</span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a>a <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb18-6"><a href="#cb18-6"></a></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># ここで出力される内容を答えよ。</span></span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=20, b=10</code></span></li>
      </ul>
      <h3 data-number="6.0.2" id="定着確認2"><span
      class="header-section-number">6.0.2</span> 定着確認2</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列) を答えよ。</p>
      <div class="sourceCode" id="cb19" data-caption="定着確認2"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb19-2"><a href="#cb19-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>]</span>
<span id="cb19-3"><a href="#cb19-3"></a>a[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">50</span> </span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># ここで出力される内容を答えよ。</span></span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[50, 20]</code></span></li>
      </ul>
      <h3 data-number="6.0.3" id="定着確認3"><span
      class="header-section-number">6.0.3</span> 定着確認3</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列) を答えよ。</p>
      <div class="sourceCode" id="cb20" data-caption="定着確認3"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb20-2"><a href="#cb20-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>]</span>
<span id="cb20-3"><a href="#cb20-3"></a>b <span class="op">=</span> a</span>
<span id="cb20-4"><a href="#cb20-4"></a></span>
<span id="cb20-5"><a href="#cb20-5"></a>a <span class="op">=</span> [<span class="dv">80</span>,<span class="dv">90</span>]</span>
<span id="cb20-6"><a href="#cb20-6"></a></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># ここで出力される内容を答えよ。</span></span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[80, 90], b=[10, 20]</code></span></li>
      </ul>
      <h1 data-number="7" id="リストの浅いコピーと深いコピー"><span
      class="header-section-number">7</span>
      リストの浅いコピーと深いコピー</h1>
      <p>実用的なプログラム (例えば <a
      href="lecture11.html#課題05-自由課題">課題05</a> など)
      を作成する場合、「リスト型」や「<a
      href="lecture12.html#辞書-dict">辞書型</a>」の利用は必要不可欠です。そして、それらを利用するにあたり、<strong>知っておかないと大きくハマるもの
      (詰むもの)</strong> として
      <strong><em>浅いコピー/深いコピー</em></strong>
      という概念があります。</p>
      <p>また、またそれと密接に関連する概念として
      <strong><em>参照</em></strong>、<strong><em>オブジェクトID</em></strong>、<strong><em>バインド
      (束縛)</em></strong>、<strong><em>ミュータブル／イミュータブル</em></strong>
      というものがあります。</p>
      <p>C言語の学習では「<strong>ポインタ</strong>」という概念/仕組みの壁を超えられずに脱落・挫折する人が多いことがよく知られています。同様にPythonの「<strong>浅いコピー/深いコピー</strong>」や「<strong>参照/バインドという仕組み</strong>」も
      <strong><em>初学者にとって大きな壁</em></strong>
      となります。一旦、理解してしまえば何ということもない概念・仕組みなのですが、初めて学ぶときには「非常に難解」「理解不能」という印象を受けると思います。しかし、ここの<strong>壁を超えて本質的な理解を得ないと、今後の開発や学習に多大な支障</strong>が生じることになります
      (例えば <span
      class="masked">分数や小数の本質を理解しないままに、中学数学に取り組むようなもの</span>
      です) 。</p>
      <p><strong>(プロンプト例)</strong></p>
      <blockquote>
      <p>先生が、C言語の学習では「ポインタ」という概念・仕組みの壁を超えられずに脱落・挫折する人が多い、と言っていたのですが、本当ですか？</p>
      </blockquote>
      <p><strong>(プロンプト例)</strong></p>
      <blockquote>
      <p>情報系学科に所属していてPythonを勉強中なんですが、先生から「浅いコピー/深いコピー」や「参照/バインド」を理解しないと、後で絶対に地獄を見ると脅されました💦実際のところ、これらを学ぶ必要性って本当にあるのでしょうか？</p>
      </blockquote>
      <p>ここからの先の内容は
      <strong>多くの人にとって簡単に理解できるものではない
      (一発理解はまず不可能)</strong>、少なくとも <span
      class="masked">数時間、2週間～1が月程度</span>
      は悩むもの、という前提で挑んでください
      (2時間悩んで理解できなくても普通です、2・3日の時間をあけて見直すことで理解できることも多々あります)
      。取り組む際のポイントは <span class="masked">頭で悩む (考える)
      だけではなくて「調べる」と「試す」をバランスよく組み合わせる</span>
      ことです。</p>
      <p><strong>(プロンプト例)</strong></p>
      <blockquote>
      <p>Python において「浅いコピー (シャローコピー) / 深いコピー
      (ディープコピー)
      」や「参照の概念」は、初心者が2時間悩んで理解できなくても普通です。2・3日かけてやっと理解できることもあります。…と言われたのですが、そんなものですか？</p>
      </blockquote>
      <p>また、この講義資料だけではなく「ウェブ」や「YouTube」などの様々な資料や解説、生成AIなどもあわせて理解に努めてください。</p>
      <ul>
      <li><a
      href="https://www.youtube.com/results?search_query=python+浅いコピー">YouTube
      (関連動画)</a></li>
      </ul>
      <div class="note type-tips">
      <p><strong>アドバイス</strong></p>
      <p>ここから先は、皆さんが脳内にこれまでにコツコツと築いてきた「プログラムの動作モデル」を、<strong>破壊</strong>し<strong>再構築</strong>してもらうような内容となります。例えば「<strong>昼と夜があるのは太陽が動くから</strong>」と思っている幼稚園児や小学生に対して
      <span
      class="masked">「昼と夜があるのは、太陽が動くからじゃなくて、実は地球が自転してるから」</span>
      だと理解してもらう、それを受け入れてもらうような内容となります。</p>
      <p>「地球は平面であり、また動いているのは太陽である」という理解のほうが直感的であり、また、その解釈であっても
      (身近な生活に関わるようなことは)
      <strong>ほとんど矛盾なく説明ができてしまいます</strong>。それゆえに「意味不明」と思考停止し、理解の追及を諦めてしまう子供もいます。</p>
      <p>以降の説明も、同じようなもので、「意味不明」と思考停止し、理解の追及を諦めてしまう人もいますが、なんとか乗り越えてください。</p>
      </div>
      <h2 data-number="7.1" id="理解のためのステップ1-出題編"><span
      class="header-section-number">7.1</span> 理解のためのステップ1
      ～出題編～</h2>
      <p>次のプログラムを実行したときの <strong>第21行目の実行結果
      (出力) </strong>
      について考えてみてください。そのうえで実際にプログラムを実行し…</p>
      <ul>
      <li>自分の考えた実行結果 (出力)</li>
      <li>実際の実行結果 (出力)</li>
      </ul>
      <p>…を比較してみてください。</p>
      <div class="sourceCode" id="cb21" data-caption="step1-1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co"># a の初期化</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb21-5"><a href="#cb21-5"></a></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="co"># b に a をコピー (ここがポイントです)</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>b <span class="op">=</span> a</span>
<span id="cb21-8"><a href="#cb21-8"></a></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co"># a と b の内容を確認</span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[10, 20, 30]</span></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[10, 20, 30]</span></span>
<span id="cb21-12"><a href="#cb21-12"></a></span>
<span id="cb21-13"><a href="#cb21-13"></a><span class="cf">assert</span> a <span class="op">==</span> b   <span class="co"># a と b が「等しいこと」を念のために確認 </span></span>
<span id="cb21-14"><a href="#cb21-14"></a></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="co"># a の2番目の要素を変更</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>a[<span class="dv">2</span>] <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb21-17"><a href="#cb21-17"></a></span>
<span id="cb21-18"><a href="#cb21-18"></a><span class="co"># a と b の内容を確認</span></span>
<span id="cb21-19"><a href="#cb21-19"></a><span class="bu">print</span>(<span class="st">&#39;---&#39;</span>)</span>
<span id="cb21-20"><a href="#cb21-20"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[10, 20, -1]</span></span>
<span id="cb21-21"><a href="#cb21-21"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; 🤔どのような出力がえられるか？</span></span></code></pre></div>
      <p>実行してみると、次のような結果が得られたはずです。</p>
      <p>この実行結果は、初心者にとっては
      <strong>予期せぬ不可解な現象</strong>
      (<code>a[2] = -1</code>が、なぜか <code>b</code>
      にも影響を与えている謎現象💦) だと思います。</p>
      <pre><code>a=[10, 20, 30]
b=[10, 20, 30]
---
a=[10, 20, -1]
b=[10, 20, -1] 👈なぜ、ここも変化するの？第16行目で変数aしか操作してないのに...</code></pre>
      <p>では、上記の <strong>第07行目</strong> の <code>b=a</code> を
      <code>b=[10,20,30]</code>
      に書き換えて、再度、実行してみてください。今度は、脳内で予測したものと同じ結果が得られるはずです。</p>
      <pre><code>a=[10, 20, 30]
b=[10, 20, 30]
---
a=[10, 20, -1]
b=[10, 20, 30]</code></pre>
      <p><br></p>
      <p>「<strong>なぜ、このような結果の違いが生じるのか</strong>」について、ここから順を追ってじっくりと考え、丁寧に謎を解明していきます。</p>
      <p><br></p>
      <p>1文1文を注意深く読んでください
      (既に理解しており仕組みを説明ができる学生は流し読みでOKです)。</p>
      <p>第一に「<strong>ここで不可解と感じること</strong>」は上記の
      <code>step1-1.py</code> の <strong>第16行目</strong>
      で、<code>a[2] = -1</code> のように <span
      class="masked">リスト<code>a</code>を対象に要素 <code>a[2]</code>
      の書き換えをしている</span> はずが、どういうわけか <span
      class="masked">リスト<code>b</code>に対しても影響を与えていること</span>
      です。</p>
      <p>このようなことは、少なくとも以下の <code>step1-2.py</code>
      のように 変数 <code>a</code> に「リスト」ではなく
      <strong>「整数値」</strong>
      を代入していたケースでは起きていませんでした**
      (実際に実行して確かめてください)。</p>
      <div class="sourceCode" id="cb24" data-caption="step1-2.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb24-2"><a href="#cb24-2"></a>a <span class="op">=</span> <span class="dv">30</span> <span class="co"># リストではなく整数値</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>b <span class="op">=</span> a</span>
<span id="cb24-4"><a href="#cb24-4"></a></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="co"># a と b の内容を確認</span></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=30, b=30</span></span>
<span id="cb24-7"><a href="#cb24-7"></a></span>
<span id="cb24-8"><a href="#cb24-8"></a><span class="cf">assert</span> a <span class="op">==</span> b   <span class="co"># a と b が「等しいこと」を念のために確認 </span></span>
<span id="cb24-9"><a href="#cb24-9"></a></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="co"># 変数 a に変更をくわえる</span></span>
<span id="cb24-11"><a href="#cb24-11"></a>a <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb24-12"><a href="#cb24-12"></a></span>
<span id="cb24-13"><a href="#cb24-13"></a><span class="co"># a と b の内容を確認</span></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="bu">print</span>(<span class="st">&#39;---&#39;</span>)</span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=-1, b=30 (bは影響を受けずに30のまま)。</span></span></code></pre></div>
      <p>実行結果は、次のようになるはずです。つまり、<strong>第11行目</strong>
      の <code>a = -1</code> は、変数 <code>b</code> に対して<span
      class="masked">影響を与えていないこと</span> が分かります。</p>
      <pre><code>a=30, b=30
---
a=-1, b=30</code></pre>
      <p>「整数値」を扱っているときは起きないのに、「リスト」を扱うとき「<strong>だけ</strong>」に起きる不思議な挙動を、<strong>よりしっかりと認識するため</strong>に、以下の
      <code>step1-3.py</code>
      を使って実験してみます。ここまでのことを踏まえて、以下のプログラムの実行結果を<strong>十分に検討・予想したうえで</strong>、実行して、その結果を確認してください。</p>
      <div class="sourceCode" id="cb26" data-caption="step1-3.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb26-2"><a href="#cb26-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb26-3"><a href="#cb26-3"></a>b <span class="op">=</span> a</span>
<span id="cb26-4"><a href="#cb26-4"></a>c <span class="op">=</span> a</span>
<span id="cb26-5"><a href="#cb26-5"></a>a[<span class="dv">0</span>] <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>b[<span class="dv">1</span>] <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>c[<span class="dv">2</span>] <span class="op">=</span> <span class="op">-</span><span class="dv">3</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="bu">print</span>(<span class="ss">f&#39;c=</span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span></code></pre></div>
      <p>上記 <code>step1-3.py</code>
      の<strong>第03行目以降</strong>を色々と書き換え
      (例えば、<strong>第04行目</strong>を <code>c=a</code> から
      <code>c=b</code> に書き換えるなどして)
      、その挙動について考察してみたり、仮説を立ててみたりしてください。現段階では「<strong>なぜ、このような結果となるか</strong>」ではなく、まずは「<span
      class="masked">(仕組みはブラックボックスでかまわないので、結果として)
      どのようなことが生じするのか</span>」を推理してみてください。</p>
      <p>また、次の <code>step1-4.py</code> のようにリスト
      <code>a</code> に対して <code>pop()</code>
      で「要素数を減らす操作」をするとどうなるか、確認してみてください。</p>
      <div class="sourceCode" id="cb27" data-caption="step1-4.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb27-2"><a href="#cb27-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb27-3"><a href="#cb27-3"></a>b <span class="op">=</span> a</span>
<span id="cb27-4"><a href="#cb27-4"></a>c <span class="op">=</span> a</span>
<span id="cb27-5"><a href="#cb27-5"></a>a.pop() <span class="co"># aを対象に末尾の要素を削除</span></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; [10,20]</span></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="bu">print</span>(<span class="ss">f&#39;c=</span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span></code></pre></div>
      <h3 data-number="7.1.1" id="ステップ1の定着確認"><span
      class="header-section-number">7.1.1</span>
      「ステップ1」の定着確認</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列)
      を答えよ。なお、<strong>現段階では「なぜ？」という仕組みを説明できる必要はありません</strong>。実行結果だけが答えられれば問題ありません。</p>
      <div class="sourceCode" id="cb28"
      data-caption="「ステップ1」の定着確認(1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb28-2"><a href="#cb28-2"></a>a <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>b <span class="op">=</span> a</span>
<span id="cb28-4"><a href="#cb28-4"></a>a <span class="op">=</span> <span class="dv">90</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=90, b=10</code></span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb29"
      data-caption="「ステップ1」の定着確認(2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb29-2"><a href="#cb29-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb29-3"><a href="#cb29-3"></a>b <span class="op">=</span> a</span>
<span id="cb29-4"><a href="#cb29-4"></a>a[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">90</span> </span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 20, 90], b=[10, 20, 90]</code></span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb30"
      data-caption="「ステップ1」の定着確認(3)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb30-2"><a href="#cb30-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb30-3"><a href="#cb30-3"></a>b <span class="op">=</span> a</span>
<span id="cb30-4"><a href="#cb30-4"></a>b[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">90</span> </span>
<span id="cb30-5"><a href="#cb30-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 90, 30], b=[10, 90, 30]</code></span></li>
      </ul>
      <h2 data-number="7.2" id="理解のためのステップ2-出題編"><span
      class="header-section-number">7.2</span> 理解のためのステップ2
      ～出題編～</h2>
      <p>(十分に手を動かして結果について分析すれば) 以下の
      <code>step2-1.py</code>
      ようなプログラムでは、<strong>第05行目</strong>以降で変数
      <code>a</code> に対して何らかの操作をすると…</p>
      <ul>
      <li><span class="masked">変数 <code>b</code> と 変数
      <code>c</code>
      に対しても同じ操作が連動して適用されるような挙動を示すのではないか</span></li>
      <li><span class="masked">(連動しているのではなく) 変数
      <code>a</code> と <code>b</code> と <code>c</code>
      の実体は同じモノではないのか</span>
      <ul>
      <li>つまり、Windowsファイルシステムの「ショートカット」のように、ひとつの実体に対して複数のアクセス手段を持っている状態になっているのではないか？</li>
      </ul></li>
      </ul>
      <p>…といった仮説が立てられると思います。</p>
      <div class="sourceCode" id="cb31" data-caption="step2-1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb31-2"><a href="#cb31-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb31-3"><a href="#cb31-3"></a>b <span class="op">=</span> a</span>
<span id="cb31-4"><a href="#cb31-4"></a>c <span class="op">=</span> a</span></code></pre></div>
      <p>ところで、次の <code>step2-2.py</code>
      ようなプログラムは試したでしょうか。結果を予測したうえで、実際に実行して確認してみてください。</p>
      <div class="sourceCode" id="cb32" data-caption="step2-2.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb32-2"><a href="#cb32-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb32-3"><a href="#cb32-3"></a>b <span class="op">=</span> a</span>
<span id="cb32-4"><a href="#cb32-4"></a>c <span class="op">=</span> a</span>
<span id="cb32-5"><a href="#cb32-5"></a>a <span class="op">=</span> [<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>] <span class="co"># a[0]=1 や a.pop() のような操作ではない点に注意!!</span></span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; [60,70,80]</span></span>
<span id="cb32-7"><a href="#cb32-7"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span>
<span id="cb32-8"><a href="#cb32-8"></a><span class="bu">print</span>(<span class="ss">f&#39;c=</span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># 出力はどうなるか</span></span></code></pre></div>
      <p>これにより <span class="masked">さらに混乱してきた</span>
      と思います。</p>
      <h3 data-number="7.2.1" id="ステップ2の定着確認"><span
      class="header-section-number">7.2.1</span>
      「ステップ2」の定着確認</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列)
      を答えよ。なお、<strong>現段階では「なぜ？」という仕組みを説明できる必要はありません</strong>。実行結果だけが答えられれば問題ありません。</p>
      <div class="sourceCode" id="cb33"
      data-caption="「ステップ2」の定着確認(1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb33-2"><a href="#cb33-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb33-3"><a href="#cb33-3"></a>b <span class="op">=</span> a</span>
<span id="cb33-4"><a href="#cb33-4"></a>a <span class="op">=</span> [<span class="dv">90</span>,<span class="dv">80</span>,<span class="dv">70</span>]</span>
<span id="cb33-5"><a href="#cb33-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[90, 80, 70], b=[10, 20, 30]</code></span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb34"
      data-caption="「ステップ2」の定着確認(2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb34-2"><a href="#cb34-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb34-3"><a href="#cb34-3"></a>b <span class="op">=</span> a</span>
<span id="cb34-4"><a href="#cb34-4"></a>b <span class="op">=</span> [<span class="dv">90</span>,<span class="dv">80</span>,<span class="dv">70</span>] <span class="co"># (1)とは、この行が違う</span></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 20, 30], b=[90, 80, 70]</code></span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb35"
      data-caption="「ステップ2」の定着確認(3)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb35-2"><a href="#cb35-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb35-3"><a href="#cb35-3"></a>b <span class="op">=</span> a</span>
<span id="cb35-4"><a href="#cb35-4"></a>a[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">90</span> </span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 20, 90], b=[10, 20, 90]</code>
      ※<code>b</code>も影響を受けている</span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb36"
      data-caption="「ステップ2」の定着確認(4)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb36-2"><a href="#cb36-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb36-3"><a href="#cb36-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>] <span class="co"># (3)とは、この行が違う</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>a[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">90</span> </span>
<span id="cb36-5"><a href="#cb36-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 20, 90], b=[10, 20, 30]</code>
      ※<code>b</code>は影響を受けていない</span></li>
      </ul>
      <h2 data-number="7.3" id="理解のためのステップ3-出題編"><span
      class="header-section-number">7.3</span> 理解のためのステップ3
      ～出題編～</h2>
      <p>ここまでの状況を整理してみます。</p>
      <p>まず、以下の <code>step3-1a.py</code> や
      <code>step3-1b.py</code> のように変数 <code>a</code>
      に代入しているものが<strong>「整数型」や「文字列型」のとき</strong>
      は直感に反しない動作となります。ここでは、念のために
      <code>assert</code> を使って <code>a</code> と <code>b</code>
      が「等しくないこと」も確認しています。以下のプログラムを実際に実行して結果を確認してください。</p>
      <div class="sourceCode" id="cb37" data-caption="step3-1a.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb37-2"><a href="#cb37-2"></a>a <span class="op">=</span> <span class="dv">10</span> <span class="co"># aに代入するのは「整数型」</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>b <span class="op">=</span> a</span>
<span id="cb37-4"><a href="#cb37-4"></a>a <span class="op">=</span> a<span class="op">+</span><span class="dv">1</span> <span class="co"># 変数 b は、この操作の影響を受けない</span></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="cf">assert</span> a <span class="op">!=</span> b</span>
<span id="cb37-6"><a href="#cb37-6"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=11</span></span>
<span id="cb37-7"><a href="#cb37-7"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=10</span></span></code></pre></div>
      <div class="sourceCode" id="cb38" data-caption="step3-1b.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb38-2"><a href="#cb38-2"></a>a <span class="op">=</span> <span class="st">&#39;ABC&#39;</span> <span class="co"># aに代入するのは「文字列型」</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>b <span class="op">=</span> a</span>
<span id="cb38-4"><a href="#cb38-4"></a>a <span class="op">=</span> a<span class="op">+</span><span class="st">&#39;DEF&#39;</span> <span class="co"># 変数 b は、この操作の影響を受けない</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="cf">assert</span> a <span class="op">!=</span> b</span>
<span id="cb38-6"><a href="#cb38-6"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=ABCDEF</span></span>
<span id="cb38-7"><a href="#cb38-7"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=ABC</span></span></code></pre></div>
      <p><br></p>
      <p>また、変数 <code>a</code>
      に代入しているものが「リスト」であっても、以下の
      <code>step3-2a.py</code> のように <strong>第04行目</strong> で
      <code>a = [10,10,30]</code> とした場合は直感どおりの動作 (＝ <span
      class="masked">変数<code>b</code>は影響を受けていない結果</span> )
      となります。実際に実行して結果を確認してください。</p>
      <div class="sourceCode" id="cb39" data-caption="step3-2a.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb39-2"><a href="#cb39-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb39-3"><a href="#cb39-3"></a>b <span class="op">=</span> a</span>
<span id="cb39-4"><a href="#cb39-4"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">90</span>,<span class="dv">30</span>]  <span class="co"># a[1]を90にするために a[1]=90 ではなく a=[10,90,30] を実行</span></span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; [10,90,30] </span></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; [10,20,30] 影響を受けていない</span></span></code></pre></div>
      <p>しかし、上記 <code>step3-2a.py</code> の
      <strong>第04行目</strong> を <code>a = [10,10,30]</code> から
      <code>a[1]=90</code> に書き換え、以下の <code>step3-2b.py</code>
      のようにすると…</p>
      <div class="sourceCode" id="cb40" data-caption="step3-2b.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb40-2"><a href="#cb40-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb40-3"><a href="#cb40-3"></a>b <span class="op">=</span> a</span>
<span id="cb40-4"><a href="#cb40-4"></a>a[<span class="dv">1</span>]<span class="op">=</span><span class="dv">90</span></span>
<span id="cb40-5"><a href="#cb40-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>実行結果は、以下のようになります。</p>
      <pre><code>a=[10, 90, 30]
b=[10, 90, 30] 👈影響を受けている</code></pre>
      <p>以上の動作は「<code>a</code> に対する操作 (
      <code>a[1]=10</code> ) が、<code>b</code>
      に対しても<strong>適用されている</strong>」あるいは「<code>a</code>
      と <code>b</code>
      が<strong>同じ実体を指すショートカットのように機能している</strong>」といえる結果となります。</p>
      <p><br></p>
      <p>一方で、<code>step3-2b.py</code> の <strong>第03行目</strong>
      を <code>b=a</code> から <code>b = [10,20,30]</code>
      にすれば、<code>a</code> と <code>b</code>
      は独立した変数として振る舞うようになります。</p>
      <div class="sourceCode" id="cb42" data-caption="step3-2c.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb42-2"><a href="#cb42-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb42-3"><a href="#cb42-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>] <span class="co"># ここを b=a から b=[10,20,30] に書き換えた</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>a[<span class="dv">1</span>]<span class="op">=</span><span class="dv">90</span></span>
<span id="cb42-5"><a href="#cb42-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb42-6"><a href="#cb42-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>実行結果は、以下のようになります。</p>
      <pre><code>a=[10, 90, 30]
b=[10, 20, 30]</code></pre>
      <p>以上のようにPythonプログラムが振る舞うことは、<strong>どのように説明をつけることができるのでしょうか</strong>。</p>
      <h3 data-number="7.3.1" id="ステップ3の定着確認"><span
      class="header-section-number">7.3.1</span>
      「ステップ3」の定着確認</h3>
      <p>次のプログラムの実行結果 (標準出力される文字列)
      を答えよ。なお、<strong>現段階では「なぜ？」という仕組みを説明できる必要はありません</strong>。実行結果だけが答えられれば問題ありません。</p>
      <div class="sourceCode" id="cb44"
      data-caption="「ステップ3」の定着確認(1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb44-2"><a href="#cb44-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb44-3"><a href="#cb44-3"></a>b <span class="op">=</span> a</span>
<span id="cb44-4"><a href="#cb44-4"></a></span>
<span id="cb44-5"><a href="#cb44-5"></a>b[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">90</span></span>
<span id="cb44-6"><a href="#cb44-6"></a>a.append(<span class="dv">40</span>)</span>
<span id="cb44-7"><a href="#cb44-7"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><code>append()</code> は<a
      href="lecture08.html#リストにおける要素の書き換えと追加">第08回講義</a>で既に学習済み。</li>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 90, 30, 40], b=[10, 90, 30, 40]</code></span>。<span
      class="masked">仮説:
      <code>a</code>と<code>b</code>は同一の実体を指し示している？</span></li>
      </ul>
      <p><br></p>
      <div class="sourceCode" id="cb45"
      data-caption="「ステップ3」の定着確認(2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb45-2"><a href="#cb45-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb45-3"><a href="#cb45-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb45-4"><a href="#cb45-4"></a></span>
<span id="cb45-5"><a href="#cb45-5"></a>b[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">90</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>a.append(<span class="dv">40</span>)</span>
<span id="cb45-7"><a href="#cb45-7"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">, b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <ul>
      <li><strong>答え</strong>: <span
      class="masked"><code>a=[10, 20, 30, 40], b=[10, 90, 30]</code></span>。<span
      class="masked"><code>a</code>と<code>b</code>は独立した変数として振る舞う。</span></li>
      </ul>
      <h2 data-number="7.4" id="理解のためのステップ4-解答編"><span
      class="header-section-number">7.4</span> 理解のためのステップ4
      ～解答編～</h2>
      <p>結論から言えば、次のような解釈によって <code>step3-2b.py</code>
      のようなPythonプログラムの振る舞いを全て説明することができます。</p>
      <h3 data-number="7.4.1" id="section"><span
      class="header-section-number">7.4.1</span> 1.</h3>
      <p>Pythonにおいて「データを抽象的に表したもの」を
      <strong><em>オブジェクト</em></strong>
      とよび、具体的には「整数」「実数」「文字列」「リスト」「辞書」…のように、<strong>変数に代入可能な全てのものは「オブジェクト」に位置づけられます</strong>。例えば
      <code>10</code> も <code>'ABC'</code> も <code>[10,20,30]</code>
      も <code>True</code>
      も「全て変数に代入可能なデータ」であり、したがってオブジェクトとなります。</p>
      <div class="note type-senior">
      <p><strong>中級者向け：Pythonでは「関数」も変数に格納可能なので
      オブジェクト (第一級オブジェクト) に属します。</strong></p>
      </div>
      <h3 data-number="7.4.2" id="section-1"><span
      class="header-section-number">7.4.2</span> 2.</h3>
      <p>プログラム実行中に新たにオブジェクトが作成されると、そのオブジェクトには
      <strong><em>オブジェクトID</em></strong> という<strong>識別子
      (番号)
      が自動的に割り振られます</strong>。この「オブジェクトID」は、他のオブジェクトIDとは重複しない固有の整数値
      (int型)
      であり、それは「オブジェクト」と<strong>1対1の関係</strong>になります。</p>
      <p>オブジェクトIDは、組込み関数の <code>id()</code>
      を使って確認することができます。</p>
      <div class="sourceCode" id="cb46"
      data-caption="オブジェクトIDの確認(1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb46-2"><a href="#cb46-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb46-3"><a href="#cb46-3"></a>b <span class="op">=</span> a</span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="bu">print</span>(<span class="ss">f&#39;変数 a 指し示すオブジェクトのID = </span><span class="sc">{</span><span class="bu">id</span>(a)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="bu">print</span>(<span class="ss">f&#39;変数 b 指し示すオブジェクトのID = </span><span class="sc">{</span><span class="bu">id</span>(b)<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>上記を実行してみると、以下のように、変数 a
      が指し示しているオブジェクト (＝<strong>a の参照先</strong>)
      と、変数 b が指し示しているオブジェクト (＝<strong>b
      の参照先</strong>) が <span class="masked">同じであること</span>
      が分かります。なお、実行毎にオブジェクトIDは変化します。</p>
      <pre><code>変数 a 指し示すオブジェクトのID = 132664295951936
変数 b 指し示すオブジェクトのID = 132664295951936 👈 a と同じID</code></pre>
      <p>一方で、以下のようにすると…</p>
      <div class="sourceCode" id="cb48"
      data-caption="オブジェクトIDの確認(2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb48-2"><a href="#cb48-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb48-3"><a href="#cb48-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>] <span class="co"># ◀◀◀ ここが先ほどとは違う</span></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="bu">print</span>(<span class="ss">f&#39;変数 a 指し示すオブジェクトのID = </span><span class="sc">{</span><span class="bu">id</span>(a)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="bu">print</span>(<span class="ss">f&#39;変数 b 指し示すオブジェクトのID = </span><span class="sc">{</span><span class="bu">id</span>(b)<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>以下のように、変数 <code>a</code>の参照先と、変数
      <code>b</code> 参照先が <span class="masked">違うこと</span>
      が分かると思います。</p>
      <pre><code>変数 a 指し示すオブジェクトのID = 132664650495168
変数 b 指し示すオブジェクトのID = 132663523312768 👈 a と違うID</code></pre>
      <h3 data-number="7.4.3" id="section-2"><span
      class="header-section-number">7.4.3</span> 3.</h3>
      <p>プログラム内部では「オブジェクトの参照
      (＝<strong>オブジェクト本体を指し示すものを「参照」といいます</strong>)」から「オブジェクトの本体
      (つまり、データそのもの)」にアクセスすることができます。</p>
      <ul>
      <li>オブジェクトの参照 (ID)
      は「<strong>電話番号</strong>」のようなものと考えるとイメージを掴みやすいかと思います。
      <ul>
      <li>変数には、オブジェクト本体が格納されるのではなく、<span
      class="masked">オブジェクトにコンタクト可能な電話番号</span>
      が格納されるイメージです。</li>
      </ul></li>
      </ul>
      <div class="sourceCode" id="cb50" data-caption="補足"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb50-2"><a href="#cb50-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb50-3"><a href="#cb50-3"></a>b <span class="op">=</span> a <span class="co"># ここで行なわれているのは参照（電話番号）の代入</span></span></code></pre></div>
      <h3 data-number="7.4.4" id="section-3"><span
      class="header-section-number">7.4.4</span> 4.</h3>
      <p>プログラミング初学者に対して <code>a=10</code> を…</p>
      <blockquote>
      <p><code>a</code> <strong>という箱に</strong> <code>10</code>
      <strong>という値を入れる</strong></p>
      </blockquote>
      <p>…
      のように説明することが多いですが、<strong>実は正しくありません</strong>。</p>
      <p>また、同様に <code>b=a</code> を…</p>
      <blockquote>
      <p><code>b</code> <strong>に、</strong> <code>a</code>
      <strong>に格納されている「10」を複製して格納する</strong></p>
      </blockquote>
      <p>…
      のように説明することも多いですが、<strong>これも正しくありません</strong>。</p>
      <p><strong>(実は正確ではない内部モデルの図解)</strong></p>
      <figure>
      <img src="figs/13/ref-01.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <h3 data-number="7.4.5" id="section-4"><span
      class="header-section-number">7.4.5</span> 5.</h3>
      <p><code>a=10</code> については…</p>
      <blockquote>
      <p><code>10</code>
      というオブジェクトを生成し、そのオブジェクトを指し示すもの
      (＝参照) を変数 <code>a</code> に格納する</p>
      </blockquote>
      <p>…が、正確な説明・解釈となります。</p>
      <p>また、同様に <code>b=a</code> については…</p>
      <blockquote>
      <p><code>b</code> <strong>に、</strong> <code>a</code>
      <strong>に格納されている「参照」を複製して格納する</strong></p>
      </blockquote>
      <p>…が、正確な説明・解釈となります。</p>
      <p><strong>(適切な内部モデルの図解)</strong></p>
      <figure>
      <img src="figs/13/ref-02.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <div class="note type-senior">
      <p><strong>中級者向け：より正確には…</strong></p>
      <p>より正確には、変数に格納されるのは「<strong>オブジェクトID</strong>」ではなく「<strong>オブジェクトへの参照</strong>」になります。
      <code>id()</code>
      で取得できる「オブジェクトID」は参照先を特定する値ですが、変数が直接IDを格納しているわけではありません。</p>
      </div>
      <h3 data-number="7.4.6" id="section-5"><span
      class="header-section-number">7.4.6</span> 6.</h3>
      <p>同様に <code>print(a)</code> は「変数 <code>a</code>
      に格納されている値を表示する」ではなく、「<strong>変数</strong>
      <code>a</code>
      <strong>に格納されている参照が指し示す「オブジェクト」の値を表示する</strong></span>」というのが、より厳密な説明になります。</p>
      <h3 data-number="7.4.7" id="section-6"><span
      class="header-section-number">7.4.7</span> 7.</h3>
      <p>このように、変数に対して (オブジェクト本体ではなく）
      オブジェクトを一意に特定できる「参照」を格納することを
      <strong><em>バインド</em></strong>
      と表現します。バインドとは「<strong>束縛する、結びつける、紐づける</strong>」という意味で、ここでは「変数」と「オブジェクト」を
      <strong>紐づけする</strong> という意味で使われます。</p>
      <h3 data-number="7.4.8" id="section-7"><span
      class="header-section-number">7.4.8</span> 8.</h3>
      <p>以上より <code>a=10</code> は「変数 <code>a</code> に
      <code>10</code> を格納する」ではなく、「変数 <code>a</code>
      と、<code>10</code> というオブジェクトを (オブジェクトIDを通して)
      バインドする (紐づけする)」と解釈するのが適切です。</p>
      <p>バインドについては、実は <a
      href="lecture02.html#変数の埋め込み">第02回講義</a>
      でも触れていました。</p>
      <div class="note type-senior">
      <p><strong>中級者向け:
      厳密には「代入」ではなく「バインド(束縛)」</strong></p>
      <p>Pythonにおいて <code>city='堺'</code> という文は
      <strong>厳密にいえば</strong>「変数 <code>city</code>
      を『堺』という文字列 (オブジェクト) にバインド
      (束縛)する」という意味になります。詳しくは <a
      href="https://www.oyama-ct.ac.jp/tso/workshop/python/python03.html">小山高専・技術支援室</a>
      を参照してください。</p>
      </div>
      <h3 data-number="7.4.9" id="具体的なプログラムで解説①"><span
      class="header-section-number">7.4.9</span>
      具体的なプログラムで解説①</h3>
      <p>次のプログラムを使って動作を具体的に解説していきます。</p>
      <div class="sourceCode" id="cb51" data-caption="step4-1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb51-2"><a href="#cb51-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb51-3"><a href="#cb51-3"></a>b <span class="op">=</span> a</span>
<span id="cb51-4"><a href="#cb51-4"></a>a[<span class="dv">1</span>]<span class="op">=</span><span class="dv">40</span></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[10, 40, 30]</span></span>
<span id="cb51-6"><a href="#cb51-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[10, 40, 30]</span></span></code></pre></div>
      <p><strong>第02行目</strong> : <code>[10,20,30]</code>
      というオブジェクトを生成し、そのオブジェクトの<strong>参照</strong>
      (＝<strong>オブジェクトを指し示すもの</strong>) を変数
      <code>a</code> に格納する。厳密には、<code>10</code>
      という整数オブジェクトを生成しその参照を0番目の要素、<code>20</code>
      という整数オブジェクトを生成しその参照を1番目の要素、<code>30</code>
      という整数オブジェクトを生成しその参照を2番目の要素とするリストオブジェクトを生成し、その参照を変数
      <code>a</code> に格納する。</p>
      <p><strong>第03行目</strong> : 変数 <code>a</code>
      に格納されている「参照」をコピー (複製) して、変数 <code>b</code>
      に格納する。ここで <code>a</code> から <code>b</code> に
      <strong>コピーされたのは「オブジェクト本体」ではなく「オブジェクトの参照」であることに注意</strong>
      する。この結果、変数 <code>a</code> と 変数 <code>b</code>
      に格納されている「オブジェクトID」は同じものとなった。</p>
      <figure>
      <img src="figs/13/ref-04.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <p><strong>第04行目</strong> : <code>40</code>
      という整数オブジェクトを新たに生成し、その参照を「変数
      <code>a</code> が参照するリスト型オブジェクトの１番目の要素
      <code>a[1]</code>」に格納する。</p>
      <figure>
      <img src="figs/13/ref-05.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <p><strong>第05行目</strong> : 変数 <code>a</code>
      に格納されている参照先 (リストオブジェクト) の値を表示する。</p>
      <p><strong>第06行目</strong> : 変数 <code>b</code>
      に格納されている参照 (＝変数 <code>a</code>
      に格納されている参照と同じ) の値を表示する。</p>
      <p>以上の解釈・説明によって、<strong>第06行目</strong>の出力が
      <code>b=[10, 40, 30]</code> となることが自然に説明できました。</p>
      <h3 data-number="7.4.10" id="具体的なプログラムで解説②"><span
      class="header-section-number">7.4.10</span>
      具体的なプログラムで解説②</h3>
      <p>次のプログラムを使って動作を具体的に解説していきます。</p>
      <div class="sourceCode" id="cb52" data-caption="step4-2.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb52-2"><a href="#cb52-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb52-3"><a href="#cb52-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]  <span class="co"># ここを書き換えた</span></span>
<span id="cb52-4"><a href="#cb52-4"></a>a[<span class="dv">1</span>]<span class="op">=</span><span class="dv">40</span></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[10, 40, 30]</span></span>
<span id="cb52-6"><a href="#cb52-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[10, 20, 30] # ここの結果が異なる</span></span></code></pre></div>
      <p><strong>第02行目</strong> : <code>[10,20,30]</code>
      というオブジェクト (ID:<code>XXXXXXX</code>)
      を生成し、その参照を変数 <code>a</code> に格納する。</p>
      <p><strong>第03行目</strong> : 新たに <code>[10,20,30]</code>
      というオブジェクト (ID:<code>YYYYYYY</code>)
      を生成し、その参照を変数 <code>b</code>
      に格納する。<strong>第02行目</strong>で生成されたリストオブジェクトと、この<strong>第03行目</strong>で生成されたリストオブジェクトは別物なので、当然、そのオブジェクトIDは違う。</p>
      <figure>
      <img src="figs/13/ref-06.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <p><strong>第04行目</strong> : <code>40</code>
      という整数オブジェクトを生成しその参照を、変数 <code>a</code>
      が参照するリスト型オブジェクトの１番目の要素に格納する。</p>
      <figure>
      <img src="figs/13/ref-07.png" alt="img" />
      <figcaption aria-hidden="true">img</figcaption>
      </figure>
      <p><strong>第05行目</strong> : 変数 <code>a</code>
      に格納されている参照先のリストオブジェクトの値を表示する。</p>
      <p><strong>第06行目</strong> : 変数 <code>b</code>
      に格納されているオブジェクトID (＝変数 <code>a</code>
      に格納されている「オブジェクトID」とは<strong>違う</strong>)
      に紐づいたリスト型のオブジェクトの値を表示する。</p>
      <p>以上の解釈・説明によって、<strong>第06行目</strong>の出力が
      <code>b=[10, 20, 30]</code> となることが自然に説明できました。</p>
      <p>次のプログラムを使って、変数 <code>a</code> と変数
      <code>b</code> が参照するリストオブジェクトが <span
      class="masked">異なるものであること</span> が確認できます。また
      <code>a[2]</code> と <code>b[2]</code> が参照するオブジェクトが
      <span class="masked">同じものであること</span>
      が確認できます。</p>
      <div class="sourceCode" id="cb53" data-caption="step4-2a.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb53-2"><a href="#cb53-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb53-3"><a href="#cb53-3"></a>b <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb53-4"><a href="#cb53-4"></a></span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="bu">print</span>(<span class="ss">f&#39;id(a) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(a)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb53-6"><a href="#cb53-6"></a><span class="bu">print</span>(<span class="ss">f&#39;id(b) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(b)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb53-7"><a href="#cb53-7"></a><span class="bu">print</span>()</span>
<span id="cb53-8"><a href="#cb53-8"></a><span class="bu">print</span>(<span class="ss">f&#39;id(a[2]) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(a[<span class="dv">2</span>])<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb53-9"><a href="#cb53-9"></a><span class="bu">print</span>(<span class="ss">f&#39;id(b[2]) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(b[<span class="dv">2</span>])<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>実行結果の一例です。</p>
      <pre><code>id(a) =&gt; 135993393253760
id(b) =&gt; 135993385921472 👈id(a)と違う

id(a[2]) =&gt; 10758664
id(b[2]) =&gt; 10758664 👈id(a[2])と同じ</code></pre>
      <div class="note type-senior">
      <p><strong>中級者向け:
      一部の整数オブジェクトのキャッシュについて</strong></p>
      <p>CPythonでは、よく使われる <code>-5</code> から <code>256</code>
      までの整数オブジェクトについては、インタープリタの初期化時に自動生成され、<strong>プログラム実行中は同じオブジェクトが「再利用」されます</strong>。これにより、頻繁に使用される小さな整数の処理が高速化されるようになっています。</p>
      <div class="sourceCode" id="cb55"
      data-caption="整数オブジェクトのキャッシュ機能"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="co"># -5〜256の整数は事前にキャッシュされている</span></span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="co"># 同じ値への参照は常に同一オブジェクトを指す</span></span>
<span id="cb55-5"><a href="#cb55-5"></a>a1 <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb55-6"><a href="#cb55-6"></a>a2 <span class="op">=</span> <span class="dv">30</span> </span>
<span id="cb55-7"><a href="#cb55-7"></a><span class="bu">print</span>(<span class="ss">f&#39;    a1 == a2     =&gt; </span><span class="sc">{</span>a1 <span class="op">==</span> a2<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb55-8"><a href="#cb55-8"></a><span class="bu">print</span>(<span class="ss">f&#39;id(a1) == id(a2) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(a1) <span class="op">==</span> <span class="bu">id</span>(a2)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb55-9"><a href="#cb55-9"></a><span class="bu">print</span>()</span>
<span id="cb55-10"><a href="#cb55-10"></a></span>
<span id="cb55-11"><a href="#cb55-11"></a><span class="co"># 上記以外の整数は、通常、新規作成される</span></span>
<span id="cb55-12"><a href="#cb55-12"></a><span class="co"># （同一ブロック内では最適化により再利用される場合もある）</span></span>
<span id="cb55-13"><a href="#cb55-13"></a>b1 <span class="op">=</span> <span class="dv">30000</span></span>
<span id="cb55-14"><a href="#cb55-14"></a>b2 <span class="op">=</span> <span class="dv">30000</span></span>
<span id="cb55-15"><a href="#cb55-15"></a><span class="bu">print</span>(<span class="ss">f&#39;    b1 == b2     =&gt; </span><span class="sc">{</span>b1 <span class="op">==</span> b2<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb55-16"><a href="#cb55-16"></a><span class="bu">print</span>(<span class="ss">f&#39;id(b1) == id(b2) =&gt; </span><span class="sc">{</span><span class="bu">id</span>(b1) <span class="op">==</span> <span class="bu">id</span>(b2)<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      <p>実行結果は次のようになります。</p>
      <pre><code>    a1 == a2     =&gt; True
id(a1) == id(a2) =&gt; True

    b1 == b2     =&gt; True
id(b1) == id(b2) =&gt; False</code></pre>
      <p>変数 <code>b1</code> と <code>b2</code>
      は、異なるオブジェクトを参照していることが確認できます。</p>
      </div>
      <h3 data-number="7.4.11" id="具体的なプログラムで解説③"><span
      class="header-section-number">7.4.11</span>
      具体的なプログラムで解説③</h3>
      <p>次のプログラムを使って動作を具体的に解説していきます。</p>
      <div class="sourceCode" id="cb57" data-caption="step4-3.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb57-2"><a href="#cb57-2"></a>a <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>b <span class="op">=</span> a</span>
<span id="cb57-4"><a href="#cb57-4"></a>a <span class="op">=</span> a<span class="op">+</span><span class="dv">1</span></span>
<span id="cb57-5"><a href="#cb57-5"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=11</span></span>
<span id="cb57-6"><a href="#cb57-6"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=10</span></span></code></pre></div>
      <p><strong>第02行目</strong> : <code>10</code>
      という整数オブジェクトの参照を変数 <code>a</code> に格納する。</p>
      <p><strong>第03行目</strong> : 変数 <code>a</code>
      に格納されている参照を変数 <code>b</code> にコピー(複製)する。</p>
      <p><strong>第04行目</strong> : 変数 <code>a</code>
      に格納されている参照に紐づくオブジェクト (つまり <code>10</code> )
      と、<code>1</code> を加算して、新たなに <code>11</code>
      という新たなオブジェクトを生成し、その参照を変数 <code>a</code>
      に格納する。</p>
      <p><strong>第05行目</strong> : 変数 <code>a</code>
      に格納されている参照の値を表示する。</p>
      <p><strong>第06行目</strong> : 変数 <code>b</code>
      に格納されている参照の値を表示する。</p>
      <div class="note type-senior">
      <p><strong>中級者向け：オブジェクトIDからオブジェクト本体を参照する</strong></p>
      <p>オブジェクトIDからオブジェクトを参照する方法を紹介しますが、通常のプログラムでは利用しません。非推奨です。あくまで、動作を理解するための実験に使ってください。</p>
      <div class="sourceCode" id="cb58"
      data-caption="オブジェクトIDからオブジェクト参照を得る"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="im">import</span> _ctypes</span>
<span id="cb58-3"><a href="#cb58-3"></a></span>
<span id="cb58-4"><a href="#cb58-4"></a>x<span class="op">=</span><span class="dv">10</span></span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="bu">print</span>(<span class="ss">f&#39;id(x) = </span><span class="sc">{</span><span class="bu">id</span>(x)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb58-6"><a href="#cb58-6"></a><span class="bu">print</span>(<span class="ss">f&#39;type(id(x)) = </span><span class="sc">{</span><span class="bu">type</span>(<span class="bu">id</span>(x))<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb58-7"><a href="#cb58-7"></a></span>
<span id="cb58-8"><a href="#cb58-8"></a><span class="co"># id(x)からオブジェクトを取得</span></span>
<span id="cb58-9"><a href="#cb58-9"></a>X<span class="op">=</span>_ctypes.PyObj_FromPtr(<span class="bu">id</span>(x))</span>
<span id="cb58-10"><a href="#cb58-10"></a><span class="bu">print</span>(<span class="ss">f&#39;id(x)から取得したオブジェクト =&gt; </span><span class="sc">{</span>X<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
      </div>
      <h3 data-number="7.4.12" id="ステップ4の定着確認1"><span
      class="header-section-number">7.4.12</span>
      「ステップ4」の定着確認1</h3>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb59"
      data-caption="ステップ4の定着確認"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb59-2"><a href="#cb59-2"></a></span>
<span id="cb59-3"><a href="#cb59-3"></a>a <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb59-4"><a href="#cb59-4"></a>b <span class="op">=</span> a</span>
<span id="cb59-5"><a href="#cb59-5"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb59-6"><a href="#cb59-6"></a></span>
<span id="cb59-7"><a href="#cb59-7"></a>b <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb59-8"><a href="#cb59-8"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題2</span></span>
<span id="cb59-9"><a href="#cb59-9"></a></span>
<span id="cb59-10"><a href="#cb59-10"></a><span class="bu">print</span>(a<span class="op">==</span>b) <span class="co"># 問題3</span></span>
<span id="cb59-11"><a href="#cb59-11"></a></span>
<span id="cb59-12"><a href="#cb59-12"></a>b[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">90</span></span>
<span id="cb59-13"><a href="#cb59-13"></a></span>
<span id="cb59-14"><a href="#cb59-14"></a><span class="bu">print</span>(a<span class="op">==</span>b) <span class="co"># 問題4</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">True</span></li>
      <li>問題2の答え : <span class="masked">False</span></li>
      <li>問題3の答え : <span class="masked">True</span></li>
      <li>問題4の答え : <span class="masked">False</span></li>
      </ul>
      <p><br></p>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb60"
      data-caption="ステップ4の定着確認"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb60-2"><a href="#cb60-2"></a></span>
<span id="cb60-3"><a href="#cb60-3"></a>a <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb60-4"><a href="#cb60-4"></a>b <span class="op">=</span> [] <span class="co"># 空の配列</span></span>
<span id="cb60-5"><a href="#cb60-5"></a>b.append(<span class="dv">10</span>)</span>
<span id="cb60-6"><a href="#cb60-6"></a>b.append(<span class="dv">20</span>)</span>
<span id="cb60-7"><a href="#cb60-7"></a>b.append(<span class="dv">30</span>)</span>
<span id="cb60-8"><a href="#cb60-8"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb60-9"><a href="#cb60-9"></a><span class="bu">print</span>(a<span class="op">==</span>b)         <span class="co"># 問題2</span></span>
<span id="cb60-10"><a href="#cb60-10"></a></span>
<span id="cb60-11"><a href="#cb60-11"></a>a <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb60-12"><a href="#cb60-12"></a>c <span class="op">=</span> []</span>
<span id="cb60-13"><a href="#cb60-13"></a><span class="cf">for</span> x <span class="kw">in</span> a:</span>
<span id="cb60-14"><a href="#cb60-14"></a>  c.append(x)</span>
<span id="cb60-15"><a href="#cb60-15"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(c)) <span class="co"># 問題3</span></span>
<span id="cb60-16"><a href="#cb60-16"></a><span class="bu">print</span>(<span class="bu">id</span>(b)<span class="op">==</span><span class="bu">id</span>(c)) <span class="co"># 問題4</span></span>
<span id="cb60-17"><a href="#cb60-17"></a><span class="bu">print</span>(a<span class="op">==</span>c)         <span class="co"># 問題5</span></span>
<span id="cb60-18"><a href="#cb60-18"></a><span class="bu">print</span>(b<span class="op">==</span>c)         <span class="co"># 問題6</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">False</span></li>
      <li>問題2の答え : <span class="masked">True</span></li>
      <li>問題3の答え : <span class="masked">False</span></li>
      <li>問題4の答え : <span class="masked">False</span></li>
      <li>問題5の答え : <span class="masked">True</span></li>
      <li>問題6の答え : <span class="masked">True</span></li>
      </ul>
      <h2 data-number="7.5"
      id="理屈は分かったものの不便ではないか"><span
      class="header-section-number">7.5</span>
      理屈は分かったものの不便ではないか</h2>
      <p>プログラムのなかで、あるリストを複製して、それを少しだけ変更して使いたい場合があります
      (当然ながら、複製元には影響を与えずに) 。そのようなとき <span
      class="masked">単純に「<code>b=a</code>」のようにリストをコピーする</span>
      のではダメであることを学びました。</p>
      <p>そのような目的のためには、次のようなプログラムを書く必要があります。</p>
      <div class="sourceCode" id="cb61" data-caption="copy1.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb61-2"><a href="#cb61-2"></a>a <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>]</span>
<span id="cb61-3"><a href="#cb61-3"></a></span>
<span id="cb61-4"><a href="#cb61-4"></a>b <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(a) <span class="co"># aと同じ要素数でbを初期化</span></span>
<span id="cb61-5"><a href="#cb61-5"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a)): <span class="co"># 要素を1個1個コピー</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>  b[i]<span class="op">=</span>a[i]</span>
<span id="cb61-7"><a href="#cb61-7"></a></span>
<span id="cb61-8"><a href="#cb61-8"></a><span class="cf">assert</span> a<span class="op">==</span>b          <span class="co"># オブジェクトの値は同じだが</span></span>
<span id="cb61-9"><a href="#cb61-9"></a><span class="cf">assert</span> <span class="bu">id</span>(a)<span class="op">!=</span><span class="bu">id</span>(b)  <span class="co"># オブジェクトとしては別物</span></span>
<span id="cb61-10"><a href="#cb61-10"></a></span>
<span id="cb61-11"><a href="#cb61-11"></a>b[<span class="dv">1</span>]<span class="op">=</span><span class="dv">10</span>  <span class="co"># 複製したものを部分変更</span></span>
<span id="cb61-12"><a href="#cb61-12"></a></span>
<span id="cb61-13"><a href="#cb61-13"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[10, 20, 30]</span></span>
<span id="cb61-14"><a href="#cb61-14"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[10, 10, 30] # 複製先だけが変更されている</span></span></code></pre></div>
      <p>ただし、上記の <code>copy1.py</code> のようなプログラムは <span
      class="masked">２次元リスト、3次元リスト、あるいは、辞書</span>
      を要素とする場合には、<strong>その階層分だけ複製処理を繰返す必要があります</strong>。</p>
      <div class="note type-tips">
      <p><strong>リストの「複製」のテクニック</strong></p>
      <p>リストを複製する場合、空のリストに <code>append()</code>
      を繰り返すよりも、複製元と同じ要素数のリスト (要素の値は適当でOK)
      を作成して、そこに値を代入していくほうが高速です。また、<code>copy()</code>
      メソッドを使うとさらに高速になります。</p>
      <p>ただし、リストの要素数が少ない場合（数十個程度）では体感的な速度差はほとんどありません。</p>
      <div class="sourceCode" id="cb62" data-caption="低速"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb62-2"><a href="#cb62-2"></a></span>
<span id="cb62-3"><a href="#cb62-3"></a>arr <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb62-4"><a href="#cb62-4"></a>cloned_arr <span class="op">=</span> []</span>
<span id="cb62-5"><a href="#cb62-5"></a><span class="cf">for</span> a <span class="kw">in</span> arr :</span>
<span id="cb62-6"><a href="#cb62-6"></a>  cloned_arr.append(a)</span>
<span id="cb62-7"><a href="#cb62-7"></a></span>
<span id="cb62-8"><a href="#cb62-8"></a><span class="bu">print</span>(cloned_arr) <span class="co"># =&gt; [10, 20, 30]</span></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="bu">print</span>(<span class="bu">id</span>(arr)<span class="op">==</span><span class="bu">id</span>(cloned_arr)) <span class="co"># =&gt; False</span></span></code></pre></div>
      <div class="sourceCode" id="cb63" data-caption="高速"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb63-2"><a href="#cb63-2"></a></span>
<span id="cb63-3"><a href="#cb63-3"></a>arr <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb63-4"><a href="#cb63-4"></a>cloned_arr <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(arr)</span>
<span id="cb63-5"><a href="#cb63-5"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)) :</span>
<span id="cb63-6"><a href="#cb63-6"></a>  cloned_arr[i] <span class="op">=</span> arr[i]</span>
<span id="cb63-7"><a href="#cb63-7"></a></span>
<span id="cb63-8"><a href="#cb63-8"></a><span class="bu">print</span>(cloned_arr) <span class="co"># =&gt; [10, 20, 30]</span></span>
<span id="cb63-9"><a href="#cb63-9"></a><span class="bu">print</span>(<span class="bu">id</span>(arr)<span class="op">==</span><span class="bu">id</span>(cloned_arr)) <span class="co"># =&gt; False</span></span></code></pre></div>
      <div class="sourceCode" id="cb64" data-caption="超高速"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb64-2"><a href="#cb64-2"></a></span>
<span id="cb64-3"><a href="#cb64-3"></a>arr <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>]</span>
<span id="cb64-4"><a href="#cb64-4"></a>cloned_arr <span class="op">=</span> arr.copy() <span class="co"># 注目</span></span>
<span id="cb64-5"><a href="#cb64-5"></a><span class="bu">print</span>(cloned_arr) <span class="co"># =&gt; [10, 20, 30]</span></span>
<span id="cb64-6"><a href="#cb64-6"></a><span class="bu">print</span>(<span class="bu">id</span>(arr)<span class="op">==</span><span class="bu">id</span>(cloned_arr)) <span class="co"># =&gt; False</span></span></code></pre></div>
      <p>なお、<code>.copy()</code>
      は、後述のような浅いコピーです。ネストされたリストなどを含む場合は、参照が共有されている点に注意してください。</p>
      </div>
      <p>例えば、次の <code>copy1-a1.py</code> や
      <code>copy1-a2.py</code> では意図するコピーができていません。</p>
      <div class="sourceCode" id="cb65"
      data-caption="copy1-a1.py 意図する処理ができていない例 (1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb65-2"><a href="#cb65-2"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]] <span class="co"># 2次元リスト</span></span>
<span id="cb65-3"><a href="#cb65-3"></a></span>
<span id="cb65-4"><a href="#cb65-4"></a><span class="co"># 詰めの甘いコピー（浅いコピー）</span></span>
<span id="cb65-5"><a href="#cb65-5"></a>b <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(a)</span>
<span id="cb65-6"><a href="#cb65-6"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a)):</span>
<span id="cb65-7"><a href="#cb65-7"></a>  b[i]<span class="op">=</span>a[i]</span>
<span id="cb65-8"><a href="#cb65-8"></a></span>
<span id="cb65-9"><a href="#cb65-9"></a>b[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">10</span>  <span class="co"># 複製したものを部分変更</span></span>
<span id="cb65-10"><a href="#cb65-10"></a></span>
<span id="cb65-11"><a href="#cb65-11"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[[10, 20], [10, 40]] # 複製元も影響を受けた</span></span>
<span id="cb65-12"><a href="#cb65-12"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[[10, 20], [10, 40]]</span></span></code></pre></div>
      <div class="sourceCode" id="cb66"
      data-caption="copy1-a2.py 意図する処理ができていない例 (2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb66-2"><a href="#cb66-2"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]] <span class="co"># 2次元リスト</span></span>
<span id="cb66-3"><a href="#cb66-3"></a></span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="co"># 詰めの甘いコピー（浅いコピー）</span></span>
<span id="cb66-5"><a href="#cb66-5"></a>b <span class="op">=</span> a.copy()</span>
<span id="cb66-6"><a href="#cb66-6"></a></span>
<span id="cb66-7"><a href="#cb66-7"></a>b[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">10</span>  <span class="co"># 複製したものを部分変更</span></span>
<span id="cb66-8"><a href="#cb66-8"></a></span>
<span id="cb66-9"><a href="#cb66-9"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[[10, 20], [10, 40]] # 複製元も影響を受けた</span></span>
<span id="cb66-10"><a href="#cb66-10"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[[10, 20], [10, 40]]</span></span></code></pre></div>
      <p>この問題は、次の <code>copy1-b.py</code>
      ように解決する必要があります。</p>
      <div class="sourceCode" id="cb67" data-caption="copy1-b.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb67-2"><a href="#cb67-2"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb67-3"><a href="#cb67-3"></a></span>
<span id="cb67-4"><a href="#cb67-4"></a><span class="co"># 深く奥までコピーする</span></span>
<span id="cb67-5"><a href="#cb67-5"></a>b <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(a)</span>
<span id="cb67-6"><a href="#cb67-6"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a)):</span>
<span id="cb67-7"><a href="#cb67-7"></a>  b[i] <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(a[i])</span>
<span id="cb67-8"><a href="#cb67-8"></a>  <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a[i])):</span>
<span id="cb67-9"><a href="#cb67-9"></a>    b[i][j]<span class="op">=</span>a[i][j]</span>
<span id="cb67-10"><a href="#cb67-10"></a></span>
<span id="cb67-11"><a href="#cb67-11"></a>b[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">10</span>  <span class="co"># 複製したものを部分変更</span></span>
<span id="cb67-12"><a href="#cb67-12"></a></span>
<span id="cb67-13"><a href="#cb67-13"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[[10, 20], [30, 40]] </span></span>
<span id="cb67-14"><a href="#cb67-14"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[[10, 20], [10, 40]] # 複製先だけが変更されている</span></span></code></pre></div>
      <p>しかし、これは<strong>階層が増えてくると明らかに面倒です</strong>
      (バグの温床にもなります)。</p>
      <p>このようなときは <code>copy</code> モジュールを使用し、以下の
      <code>copy2.py</code>
      のように記述します。こちらは、２次元リスト、3次元リスト、あるいは、辞書を要素とする場合でも問題なく対応してくれます。</p>
      <div class="sourceCode" id="cb68" data-caption="copy2.py"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="im">import</span> copy <span class="co"># 要import </span></span>
<span id="cb68-3"><a href="#cb68-3"></a></span>
<span id="cb68-4"><a href="#cb68-4"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb68-5"><a href="#cb68-5"></a>b <span class="op">=</span> copy.deepcopy(a) <span class="co"># この1行で深いコピー</span></span>
<span id="cb68-6"><a href="#cb68-6"></a></span>
<span id="cb68-7"><a href="#cb68-7"></a>b[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">10</span>  <span class="co"># 複製したものを部分変更</span></span>
<span id="cb68-8"><a href="#cb68-8"></a></span>
<span id="cb68-9"><a href="#cb68-9"></a><span class="bu">print</span>(<span class="ss">f&#39;a=</span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; a=[[10, 20], [30, 40]]</span></span>
<span id="cb68-10"><a href="#cb68-10"></a><span class="bu">print</span>(<span class="ss">f&#39;b=</span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">&#39;</span>) <span class="co"># =&gt; b=[[10, 20], [10, 40]]</span></span></code></pre></div>
      <p>ここで <code>b=a</code> のようなオブジェクトIDだけのコピーを
      <strong><em>浅いコピー</em></strong> (<strong>Shallow
      Copy</strong>)、それに対してオブジェクトそのものの複製をつくることを
      <strong><em>深いコピー</em></strong> (<strong>Deep Copy</strong>)
      と言います。</p>
      <h3 data-number="7.5.1" id="ステップ4の定着確認2"><span
      class="header-section-number">7.5.1</span>
      「ステップ4」の定着確認2</h3>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb69"
      data-caption="ステップ4の定着確認(1)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb69-2"><a href="#cb69-2"></a></span>
<span id="cb69-3"><a href="#cb69-3"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb69-4"><a href="#cb69-4"></a>b <span class="op">=</span> []</span>
<span id="cb69-5"><a href="#cb69-5"></a></span>
<span id="cb69-6"><a href="#cb69-6"></a><span class="cf">for</span> i <span class="kw">in</span> a :</span>
<span id="cb69-7"><a href="#cb69-7"></a>  b.append(i)</span>
<span id="cb69-8"><a href="#cb69-8"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb69-9"><a href="#cb69-9"></a><span class="bu">print</span>(a<span class="op">==</span>b)         <span class="co"># 問題2</span></span>
<span id="cb69-10"><a href="#cb69-10"></a></span>
<span id="cb69-11"><a href="#cb69-11"></a>a.append([<span class="dv">50</span>,<span class="dv">60</span>])</span>
<span id="cb69-12"><a href="#cb69-12"></a><span class="bu">print</span>(b)            <span class="co"># 問題3</span></span>
<span id="cb69-13"><a href="#cb69-13"></a></span>
<span id="cb69-14"><a href="#cb69-14"></a>a[<span class="dv">0</span>].append(<span class="dv">25</span>)</span>
<span id="cb69-15"><a href="#cb69-15"></a><span class="bu">print</span>(b)            <span class="co"># 問題4</span></span>
<span id="cb69-16"><a href="#cb69-16"></a></span>
<span id="cb69-17"><a href="#cb69-17"></a><span class="bu">print</span>(<span class="bu">id</span>(a[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">id</span>(b[<span class="dv">0</span>]))  <span class="co"># 問題5</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">False</span></li>
      <li>問題2の答え : <span class="masked">True</span></li>
      <li>問題3の答え : <span
      class="masked"><code>[[10, 20], [30, 40]]</code></span></li>
      <li>問題4の答え : <span
      class="masked"><code>[[10, 20, 25], [30, 40]]</code></span></li>
      <li>問題5の答え : <span class="masked">True</span></li>
      </ul>
      <p><br></p>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb70"
      data-caption="ステップ4の定着確認(2)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb70-2"><a href="#cb70-2"></a></span>
<span id="cb70-3"><a href="#cb70-3"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb70-4"><a href="#cb70-4"></a>b <span class="op">=</span> a.copy()</span>
<span id="cb70-5"><a href="#cb70-5"></a></span>
<span id="cb70-6"><a href="#cb70-6"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb70-7"><a href="#cb70-7"></a><span class="bu">print</span>(a<span class="op">==</span>b)         <span class="co"># 問題2</span></span>
<span id="cb70-8"><a href="#cb70-8"></a></span>
<span id="cb70-9"><a href="#cb70-9"></a>a.append([<span class="dv">50</span>,<span class="dv">60</span>])</span>
<span id="cb70-10"><a href="#cb70-10"></a><span class="bu">print</span>(b)            <span class="co"># 問題3</span></span>
<span id="cb70-11"><a href="#cb70-11"></a></span>
<span id="cb70-12"><a href="#cb70-12"></a>a[<span class="dv">0</span>].append(<span class="dv">25</span>)</span>
<span id="cb70-13"><a href="#cb70-13"></a><span class="bu">print</span>(b)            <span class="co"># 問題4</span></span>
<span id="cb70-14"><a href="#cb70-14"></a></span>
<span id="cb70-15"><a href="#cb70-15"></a><span class="bu">print</span>(<span class="bu">id</span>(a[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">id</span>(b[<span class="dv">0</span>]))  <span class="co"># 問題5</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">False</span></li>
      <li>問題2の答え : <span class="masked">True</span></li>
      <li>問題3の答え : <span
      class="masked"><code>[[10, 20], [30, 40]]</code></span></li>
      <li>問題4の答え : <span
      class="masked"><code>[[10, 20, 25], [30, 40]]</code></span></li>
      <li>問題5の答え : <span class="masked">True</span></li>
      </ul>
      <p><br></p>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb71"
      data-caption="ステップ4の定着確認(3)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="im">import</span> copy</span>
<span id="cb71-3"><a href="#cb71-3"></a></span>
<span id="cb71-4"><a href="#cb71-4"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb71-5"><a href="#cb71-5"></a>b <span class="op">=</span> copy.deepcopy(a)</span>
<span id="cb71-6"><a href="#cb71-6"></a></span>
<span id="cb71-7"><a href="#cb71-7"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb71-8"><a href="#cb71-8"></a><span class="bu">print</span>(a<span class="op">==</span>b)         <span class="co"># 問題2</span></span>
<span id="cb71-9"><a href="#cb71-9"></a></span>
<span id="cb71-10"><a href="#cb71-10"></a>a.append([<span class="dv">50</span>,<span class="dv">60</span>])</span>
<span id="cb71-11"><a href="#cb71-11"></a><span class="bu">print</span>(b)            <span class="co"># 問題3</span></span>
<span id="cb71-12"><a href="#cb71-12"></a></span>
<span id="cb71-13"><a href="#cb71-13"></a>a[<span class="dv">0</span>].append(<span class="dv">25</span>)</span>
<span id="cb71-14"><a href="#cb71-14"></a><span class="bu">print</span>(b)            <span class="co"># 問題4</span></span>
<span id="cb71-15"><a href="#cb71-15"></a></span>
<span id="cb71-16"><a href="#cb71-16"></a><span class="bu">print</span>(<span class="bu">id</span>(a[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">id</span>(b[<span class="dv">0</span>]))  <span class="co"># 問題5</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">False</span></li>
      <li>問題2の答え : <span class="masked">True</span></li>
      <li>問題3の答え : <span
      class="masked"><code>[[10, 20], [30, 40]]</code></span></li>
      <li>問題4の答え : <span
      class="masked"><code>[[10, 20], [30, 40]]</code></span></li>
      <li>問題5の答え : <span class="masked">False</span></li>
      </ul>
      <p><br></p>
      <p>次のプログラムを実行したとき、各 <code>print</code>
      関数によって標準出力される値を答えよ。</p>
      <div class="sourceCode" id="cb72"
      data-caption="ステップ4の定着確認(4)"><pre
      class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1"></a><span class="op">%</span>reset <span class="op">-</span>f</span>
<span id="cb72-2"><a href="#cb72-2"></a></span>
<span id="cb72-3"><a href="#cb72-3"></a>a <span class="op">=</span> [[<span class="dv">10</span>,<span class="dv">20</span>],[<span class="dv">30</span>,<span class="dv">40</span>]]</span>
<span id="cb72-4"><a href="#cb72-4"></a>b <span class="op">=</span> a</span>
<span id="cb72-5"><a href="#cb72-5"></a></span>
<span id="cb72-6"><a href="#cb72-6"></a><span class="bu">print</span>(<span class="bu">id</span>(a)<span class="op">==</span><span class="bu">id</span>(b)) <span class="co"># 問題1</span></span>
<span id="cb72-7"><a href="#cb72-7"></a><span class="bu">print</span>(a<span class="op">==</span>b)         <span class="co"># 問題2</span></span>
<span id="cb72-8"><a href="#cb72-8"></a></span>
<span id="cb72-9"><a href="#cb72-9"></a>a.append([<span class="dv">50</span>,<span class="dv">60</span>])</span>
<span id="cb72-10"><a href="#cb72-10"></a><span class="bu">print</span>(b)            <span class="co"># 問題3</span></span>
<span id="cb72-11"><a href="#cb72-11"></a></span>
<span id="cb72-12"><a href="#cb72-12"></a>a[<span class="dv">0</span>].append(<span class="dv">25</span>)</span>
<span id="cb72-13"><a href="#cb72-13"></a><span class="bu">print</span>(b)            <span class="co"># 問題4</span></span>
<span id="cb72-14"><a href="#cb72-14"></a></span>
<span id="cb72-15"><a href="#cb72-15"></a><span class="bu">print</span>(<span class="bu">id</span>(a[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">id</span>(b[<span class="dv">0</span>]))  <span class="co"># 問題5</span></span></code></pre></div>
      <ul>
      <li>問題1の答え : <span class="masked">True</span></li>
      <li>問題2の答え : <span class="masked">True</span></li>
      <li>問題3の答え : <span
      class="masked"><code>[[10, 20], [30, 40], [50, 60]]</code></span></li>
      <li>問題4の答え : <span
      class="masked"><code>[[10, 20, 25], [30, 40], [50, 60]]</code></span></li>
      <li>問題5の答え : <span class="masked">True</span></li>
      </ul>
      <p><br></p>
      <p><strong>(プロンプト例)</strong></p>
      <blockquote>
      <p>Pythonにおいて、リスト（特に多次元リスト）の浅いコピーと深いコピー、参照について、正しく理解できているか不安があります。理解度を確認するための問題を作成してください。リストのcopyメソッド、copyライブライブラリの
      deepcopy、組込み関数の id についても理解を確認したいです。</p>
      </blockquote>
      <!-- ---------------------------------------- -->
    </main>

    <footer class="markdown-body">
      <p><a href="https://takeshiwada1980.github.io/Programming1-2025/">講義資料のIndexに移動</a></p>
    </footer>

    <script>
      window.onload = function () {
        // ナビゲーション関連
        let openBtn = document.getElementsByClassName("openbtn")[0];
        let navPnl = document.getElementById("g-nav");
        openBtn.onclick = () => {
          openBtn.classList.toggle("active");
          navPnl.classList.toggle("panelactive");
        };

        let items = navPnl.getElementsByTagName("a");
        Array.from(items).forEach((item) => {
          item.onclick = () => {
            openBtn.classList.toggle("active");
            navPnl.classList.toggle("panelactive");
          };
        });

        // マスク処理
        let maskedSpans = document.getElementsByClassName("masked");
        Array.from(maskedSpans).forEach((span) => {
          span.onclick = () => {
            span.classList.toggle("open");
          };
        });

        // data-startfrom 属性の行番号カウンタのリセット
        document.querySelectorAll("div.sourceCode").forEach(function (div) {
          var startFrom = div.getAttribute("data-startfrom");
          if (startFrom != null) {
            div.style.counterReset = "pg-line " + (startFrom - 1);
          }
        });

        // 画像にリンクを付与
        // let images = document.querySelectorAll("figure img");
        // Array.from(images).forEach((img) => {
        //   img.onclick = () => {
        //     location.href = img.getAttribute("src");
        //   };
        // });
      };
    </script>
  </body>
</html>
